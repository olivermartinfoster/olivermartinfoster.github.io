(this.webpackJsonpcalculator=this.webpackJsonpcalculator||[]).push([[0],{100:function(t,e,n){},112:function(t,e){},117:function(t,e,n){"use strict";n.r(e);var s=n(0),i=n.n(s),a=n(11),r=n.n(a),c=(n(99),n(18)),o=n(80),l=n(27),d=(n(100),n(58)),u=n(13),b=n(4),j=n(19),p=n(59),g=n(177),m=n(153),O=n(155),h=n(32),x={view:{title:""},settings:{consumedCarbs:0,currentBg:5,minimumUnit:.5,carbsPerUnit:9,bgPerUnit:2.9,targetBg:5,unitAdjustmentPercentage:0,carbsPerColumnWeight:0,columnWeight:100,totalPacketWeight:100,totalPieces:8,consumedPieces:8,minimumCarbs:1},insulinUnits:{consumedCarbs:null,currentBg:null,unitAdjustmentPercentage:null,minimumUnit:null,carbsPerUnit:null,bgPerUnit:null,targetBg:null,unitAdjustmentRatio:0,bgDistance:0,bgUnits:0,carbUnits:0,totalUnits:0,adjustedTotalUnits:0,roundedAdjustedTotalUnits:0},proportionateCarbs:{carbsPerColumnWeight:null,columnWeight:null,totalPacketWeight:null,totalPieces:null,consumedPieces:null,minimumCarbs:null,carbRatio:0,totalPacketCarbs:0,carbsPerPiece:0,consumedCarbs:0,roundedConsumedCarbs:0}},P=Object(h.b)({name:"view",initialState:x.view,reducers:{titleChanged:function(t,e){t.title=e.payload}}}),v=P.actions.titleChanged,C=P.reducer,_=Object(h.b)({name:"insulinUnits",initialState:x.insulinUnits,reducers:{allInsulinUnitsChanged:function(t,e){!function(t,e){Object.assign(t,e);var n=t.consumedCarbs,s=t.currentBg,i=t.unitAdjustmentPercentage,a=t.targetBg,r=t.carbsPerUnit,c=t.bgPerUnit,o=t.minimumUnit,l=1+i/100,d=s-a,u=c?d/c:0,b=r?n/r:0,j=u+b,p=j*l,g=Math.round(p/o)*o;Object.assign(t,{consumedCarbs:n,currentBg:s,unitAdjustmentPercentage:i,targetBg:a,carbsPerUnit:r,bgPerUnit:c,unitAdjustmentRatio:l,bgDistance:d,bgUnits:u,carbUnits:b,totalUnits:j,adjustedTotalUnits:p,roundedAdjustedTotalUnits:g})}(t,e.payload)}}}),f=_.actions.allInsulinUnitsChanged,y=_.reducer,A=n(176);function B(t){return t=(t=String(t)).replace(/x/i,"*"),Object(A.a)(t)}function w(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={};for(var i in n)n[i]=B(n[i]);for(var a in t){var r,c;s[a]=null!==(r=null!==(c=n[a])&&void 0!==c?c:t[a])&&void 0!==r?r:e[a]}return s}function U(t){var e={},n={};for(var i in t){var a=Object(s.useState)(t[i]),r=Object(c.a)(a,2);e[i]=r[0],n[i]=r[1]}return[e,n]}function N(t,e,n,s,i){return function(a,r){var c=r.target.value;n[a](c);try{s(i(w(t,e,Object(l.a)({},a,c||e[a]))))}catch(o){}}}function W(t,e){return function(n,s){""===s.target.value&&t[n](e[n])}}var k=n(148),I={maxWidth:"400px",margin:"auto"},S={display:"inline-flex",fontSize:"2rem"},T={display:"inline-flex",padding:"6px 0px",minWidth:"32px"},E={display:"flex",paddingBottom:"2rem"},L={paddingBottom:"2rem"},R={input:S,addCarbs:T,inputContainer:E,outputContainer:L,screenContainer:I},F=(Object(k.a)(R),n(154)),z=n(156),D=n(157),M=n(158),J=n(159),G=n(2),X=void 0,q=function(){var t=Object(j.c)((function(t){return t.insulinUnits})),e=Object(j.c)((function(t){return t.settings})),n=w(t,e),i=U(n),a=Object(c.a)(i,2),r=a[0],o=a[1],l=Object(j.b)(),d=N(t,e,o,l,f),u=W(o,n);return Object(s.useEffect)((function(){l(v("Insulin"))})),Object(G.jsxs)("section",{className:"insulinunits",style:I,children:[Object(G.jsx)("div",{className:"insulinunits__output",style:L,children:Object(G.jsxs)(p.a,{variant:"h2",noWrap:!0,children:[t.roundedAdjustedTotalUnits||0,"units"]})}),Object(G.jsxs)("div",{className:"insulinunits_input",children:[Object(G.jsxs)("div",{className:"insulinunits__input__consumedcarbs",style:E,children:[Object(G.jsx)(g.a,{label:"Consumed carbohydrates",inputProps:{style:S},onChange:d.bind(X,"consumedCarbs"),onBlur:u.bind(X,"consumedCarbs"),value:r.consumedCarbs,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(F.a,{})}),endAdornment:Object(G.jsxs)(m.a,{position:"end",children:[t.consumedCarbs||0,"g"]})}}),Object(G.jsx)(O.a,{style:T,children:Object(G.jsx)(z.a,{})})]}),Object(G.jsx)("div",{className:"insulinunits__input__currentbg",style:E,children:Object(G.jsx)(g.a,{label:"Current blood glucose",inputProps:{style:S},onChange:d.bind(X,"currentBg"),onBlur:u.bind(X,"currentBg"),value:r.currentBg,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(D.a,{})}),endAdornment:Object(G.jsx)(m.a,{position:"end",children:"mmol/l"})}})}),Object(G.jsx)("div",{className:"insulinunits__input__unitadjustmentpercentage",style:E,children:Object(G.jsx)(g.a,{label:"Adjustment",inputProps:{style:S},onChange:d.bind(X,"unitAdjustmentPercentage"),onBlur:u.bind(X,"unitAdjustmentPercentage"),value:r.unitAdjustmentPercentage,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(M.a,{})}),endAdornment:Object(G.jsx)(m.a,{position:"end",children:"%"})}})}),Object(G.jsx)("div",{className:"insulinunits__input__carbsperunit",style:E,children:Object(G.jsx)(g.a,{label:"Carbs per unit",inputProps:{style:S},onChange:d.bind(X,"carbsPerUnit"),onBlur:u.bind(X,"carbsPerUnit"),value:r.carbsPerUnit,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(J.a,{})}),endAdornment:Object(G.jsx)(m.a,{position:"end",children:"g"})}})}),Object(G.jsx)("div",{className:"insulinunits__input__bgperunit",style:E,children:Object(G.jsx)(g.a,{label:"Blood glucose per unit",inputProps:{style:S},onChange:d.bind(X,"bgPerUnit"),onBlur:u.bind(X,"bgPerUnit"),value:r.bgPerUnit,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(J.a,{})}),endAdornment:Object(G.jsx)(m.a,{position:"end",children:"mmol/l"})}})}),Object(G.jsx)("div",{className:"insulinunits__input__targetbg",style:E,children:Object(G.jsx)(g.a,{label:"Target blood glucose",inputProps:{style:S},onChange:d.bind(X,"targetBg"),onBlur:u.bind(X,"targetBg"),value:r.targetBg,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(J.a,{})}),endAdornment:Object(G.jsx)(m.a,{position:"end",children:"mmol/l"})}})})]})]})},H=Object(h.b)({name:"proportionateCarbs",initialState:x.proportionateCarbs,reducers:{allProportionateCarbsChanged:function(t,e){!function(t,e){Object.assign(t,e);var n=t.carbsPerColumnWeight,s=t.columnWeight,i=t.totalPacketWeight,a=t.totalPieces,r=t.consumedPieces,c=t.minimumCarbs,o=s?n/s:0,l=o*i,d=a?l/a:0,u=d*r,b=Math.round(u/c)*c;Object.assign(t,{carbsPerColumnWeight:n,columnWeight:s,totalPacketWeight:i,totalPieces:a,consumedPieces:r,minimumCarbs:c,carbRatio:o,totalPacketCarbs:l,carbsPerPiece:d,consumedCarbs:u,roundedConsumedCarbs:b})}(t,e.payload)}}}),K=H.actions.allProportionateCarbsChanged,Q=H.reducer,V=n(160),Y=n(161),Z=n(162),$=n(163),tt=n(164),et=void 0,nt=function(){var t=Object(j.c)((function(t){return t.proportionateCarbs})),e=Object(j.c)((function(t){return t.settings})),n=w(t,e),i=U(n),a=Object(c.a)(i,2),r=a[0],o=a[1],l=Object(j.b)(),d=N(t,e,o,l,K),u=W(o,n);return Object(s.useEffect)((function(){l(v("Carbohydrates"))})),Object(G.jsxs)("section",{className:"proportionatecarbs",style:I,children:[Object(G.jsx)("div",{className:"proportionatecarbs__output",style:L,children:Object(G.jsxs)(p.a,{variant:"h2",noWrap:!0,children:[t.roundedConsumedCarbs||0,"g"]})}),Object(G.jsxs)("div",{className:"proportionatecarbs_input",children:[Object(G.jsx)("div",{className:"proportionatecarbs__input__columnweight",style:E,children:Object(G.jsx)(g.a,{label:"Per weight",inputProps:{style:S},onChange:d.bind(et,"columnWeight"),onBlur:u.bind(et,"columnWeight"),value:r.columnWeight,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(V.a,{})}),endAdornment:Object(G.jsx)(m.a,{position:"end",children:"g"})}})}),Object(G.jsx)("div",{className:"proportionatecarbs__input__carbspercolumnweight",style:E,children:Object(G.jsx)(g.a,{label:"Carbs per weight",inputProps:{style:S},onChange:d.bind(et,"carbsPerColumnWeight"),onBlur:u.bind(et,"carbsPerColumnWeight"),value:r.carbsPerColumnWeight,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(Y.a,{})}),endAdornment:Object(G.jsx)(m.a,{position:"end",children:"g"})}})}),Object(G.jsx)("div",{className:"proportionatecarbs__input__totalpacketweight",style:E,children:Object(G.jsx)(g.a,{label:"Total weight",inputProps:{style:S},onChange:d.bind(et,"totalPacketWeight"),onBlur:u.bind(et,"totalPacketWeight"),value:r.totalPacketWeight,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(Z.a,{})}),endAdornment:Object(G.jsx)(m.a,{position:"end",children:"g"})}})}),Object(G.jsx)("div",{className:"proportionatecarbs__input__totalpieces",style:E,children:Object(G.jsx)(g.a,{label:"Pieces",inputProps:{style:S},onChange:d.bind(et,"totalPieces"),onBlur:u.bind(et,"totalPieces"),value:r.totalPieces,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)($.a,{})}),endAdornment:Object(G.jsxs)(m.a,{position:"end",children:[r.consumedPieces,"/",r.totalPieces]})}})}),Object(G.jsx)("div",{className:"proportionatecarbs__input__consumedpieces",style:E,children:Object(G.jsx)(g.a,{label:"Consumed pieces",inputProps:{style:S},onChange:d.bind(et,"consumedPieces"),onBlur:u.bind(et,"consumedPieces"),value:r.consumedPieces,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(tt.a,{})}),endAdornment:Object(G.jsxs)(m.a,{position:"end",children:[r.consumedPieces,"/",r.totalPieces]})}})}),Object(G.jsx)("div",{className:"proportionatecarbs__button__add",children:Object(G.jsx)(O.a,{children:Object(G.jsx)(z.a,{})})})]})]})},st=Object(h.b)({name:"settings",initialState:x.settings,reducers:{allSettingsChanged:function(t,e){Object.assign(t,e.payload)}}}),it=st.actions.allSettingsChanged,at=st.reducer,rt=void 0,ct=function(){var t=Object(j.c)((function(t){return t.insulinUnits})),e=Object(j.c)((function(t){return t.settings})),n=w(t,e),i=U(n),a=Object(c.a)(i,2),r=a[0],o=a[1],l=Object(j.b)(),d=N(t,e,o,l,it),u=W(o,n);return Object(s.useEffect)((function(){l(v("Settings"))})),Object(G.jsx)("section",{className:"settings",style:I,children:Object(G.jsxs)("div",{className:"settings_input",children:[Object(G.jsx)("div",{className:"settings__input__consumedcarbs",style:E,children:Object(G.jsx)(g.a,{label:"Consumed carbohydrates",inputProps:{style:S},onChange:d.bind(rt,"consumedCarbs"),onBlur:u.bind(rt,"consumedCarbs"),value:r.consumedCarbs,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(F.a,{})}),endAdornment:Object(G.jsxs)(m.a,{position:"end",children:[t.consumedCarbs||0,"g"]})}})}),Object(G.jsx)("div",{className:"settings__input__currentbg",style:E,children:Object(G.jsx)(g.a,{label:"Current blood glucose",inputProps:{style:S},onChange:d.bind(rt,"currentBg"),onBlur:u.bind(rt,"currentBg"),value:r.currentBg,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(D.a,{})}),endAdornment:Object(G.jsx)(m.a,{position:"end",children:"mmol/l"})}})}),Object(G.jsx)("div",{className:"settings__input__unitadjustmentpercentage",style:E,children:Object(G.jsx)(g.a,{label:"Adjustment",inputProps:{style:S},onChange:d.bind(rt,"unitAdjustmentPercentage"),onBlur:u.bind(rt,"unitAdjustmentPercentage"),value:r.unitAdjustmentPercentage,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(M.a,{})}),endAdornment:Object(G.jsx)(m.a,{position:"end",children:"%"})}})}),Object(G.jsx)("div",{className:"settings__input__carbsperunit",style:E,children:Object(G.jsx)(g.a,{label:"Carbs per unit",inputProps:{style:S},onChange:d.bind(rt,"carbsPerUnit"),onBlur:u.bind(rt,"carbsPerUnit"),value:r.carbsPerUnit,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(J.a,{})}),endAdornment:Object(G.jsx)(m.a,{position:"end",children:"g"})}})}),Object(G.jsx)("div",{className:"settings__input__bgperunit",style:E,children:Object(G.jsx)(g.a,{label:"Blood glucose per unit",inputProps:{style:S},onChange:d.bind(rt,"bgPerUnit"),onBlur:u.bind(rt,"bgPerUnit"),value:r.bgPerUnit,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(J.a,{})}),endAdornment:Object(G.jsx)(m.a,{position:"end",children:"mmol/l"})}})}),Object(G.jsx)("div",{className:"settings__input__targetbg",style:E,children:Object(G.jsx)(g.a,{label:"Target blood glucose",inputProps:{style:S},onChange:d.bind(rt,"targetBg"),onBlur:u.bind(rt,"targetBg"),value:r.targetBg,InputProps:{startAdornment:Object(G.jsx)(m.a,{position:"start",children:Object(G.jsx)(J.a,{})}),endAdornment:Object(G.jsx)(m.a,{position:"end",children:"mmol/l"})}})})]})})},ot=n(165),lt=n(166),dt=n(167),ut=n(179),bt=n(171),jt=n(152),pt=n(172),gt=n(173),mt=n(175),Ot=n(168),ht=n(169),xt=n(170),Pt=n(174),vt=n(26),Ct=160,_t=Object(k.a)((function(t){return{root:{display:"flex"},appBar:{zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},appBarShift:{marginLeft:Ct,width:"calc(100% - ".concat(Ct,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},menuButton:{marginLeft:-20,marginRight:20},hide:{display:"none"},drawer:{width:Ct,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:Ct,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},drawerClose:Object(l.a)({transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),overflowX:"hidden",width:t.spacing(0)+1},t.breakpoints.up("sm"),{width:t.spacing(7)+1}),toolbar:Object(o.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1)},t.mixins.toolbar),content:{flexGrow:1,padding:t.spacing(3)}}}));var ft=function(){var t,e,n=Object(j.c)((function(t){return t.view})),s=_t(),a=Object(vt.a)(),r=i.a.useState(!1),o=Object(c.a)(r,2),g=o[0],m=o[1],O=function(){m(!1)};return Object(G.jsx)(d.a,{children:Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)(ot.a,{position:"fixed",className:Object(b.a)(s.appBar,Object(l.a)({},s.appBarShift,g)),children:Object(G.jsxs)(lt.a,{children:[Object(G.jsx)(dt.a,{color:"inherit","aria-label":"open drawer",onClick:function(){m(!0)},edge:"start",className:Object(b.a)(s.menuButton,Object(l.a)({},s.hide,g)),children:Object(G.jsx)(Ot.a,{})}),Object(G.jsx)(p.a,{variant:"h6",noWrap:!0,children:n.title})]})}),Object(G.jsxs)(ut.a,{variant:"permanent",className:Object(b.a)(s.drawer,(t={},Object(l.a)(t,s.drawerOpen,g),Object(l.a)(t,s.drawerClose,!g),t)),classes:{paper:Object(b.a)((e={},Object(l.a)(e,s.drawerOpen,g),Object(l.a)(e,s.drawerClose,!g),e))},children:[Object(G.jsx)("div",{className:s.toolbar,children:Object(G.jsx)(dt.a,{onClick:O,children:"rtl"===a.direction?Object(G.jsx)(ht.a,{}):Object(G.jsx)(xt.a,{})})}),Object(G.jsx)(bt.a,{}),Object(G.jsxs)(jt.a,{children:[Object(G.jsxs)(pt.a,{button:!0,component:d.b,to:"/insulinunits",onClick:O,children:[Object(G.jsx)(gt.a,{children:Object(G.jsx)(Pt.a,{})}),Object(G.jsx)(mt.a,{primary:"Insulin"})]},"Insulin"),Object(G.jsxs)(pt.a,{button:!0,component:d.b,to:"/proportionatecarbs",onClick:O,children:[Object(G.jsx)(gt.a,{children:Object(G.jsx)(F.a,{})}),Object(G.jsx)(mt.a,{primary:"Carbs"})]},"Carbs")]}),Object(G.jsx)(bt.a,{}),Object(G.jsx)(jt.a,{children:Object(G.jsxs)(pt.a,{button:!0,component:d.b,to:"/settings",onClick:O,children:[Object(G.jsx)(gt.a,{children:Object(G.jsx)(J.a,{})}),Object(G.jsx)(mt.a,{primary:"Settings"})]},"Settings")})]}),Object(G.jsxs)("main",{className:s.content,children:[Object(G.jsx)("div",{className:s.toolbar}),Object(G.jsxs)(u.d,{children:[Object(G.jsx)(u.b,{path:"/insulinunits",children:Object(G.jsx)(q,{})}),Object(G.jsx)(u.b,{path:"/proportionatecarbs",children:Object(G.jsx)(nt,{})}),Object(G.jsx)(u.b,{path:"/settings",children:Object(G.jsx)(ct,{})}),Object(G.jsx)(u.a,{to:"/insulinunits"})]})]})]})})},yt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,181)).then((function(e){var n=e.getCLS,s=e.getFID,i=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),s(t),i(t),a(t),r(t)}))},At=Object(h.a)({reducer:{view:C,settings:at,insulinUnits:y,proportionateCarbs:Q}}),Bt=n(23),wt=n.n(Bt),Ut=n(74),Nt=n(86),Wt=n.n(Nt);Object(Ut.a)(wt.a.mark((function t(){var e,n;return wt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("./manifest.json");case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,Wt()(n).forEach((function(t){console.log(t)}));case 7:case"end":return t.stop()}}),t)})))(),"serviceWorker"in navigator&&window.addEventListener("load",Object(Ut.a)(wt.a.mark((function t(){var e;return wt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.serviceWorker.register("./serviceWorker.js");case 3:e=t.sent,console.log("Service worker registered! \ud83d\ude0e",e),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),console.log("\ud83d\ude25 Service worker registration failed: ",t.t0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))),r.a.render(Object(G.jsx)(i.a.StrictMode,{children:Object(G.jsx)(j.a,{store:At,children:Object(G.jsx)(ft,{})})}),document.getElementById("root")),yt()},99:function(t,e,n){}},[[117,1,2]]]);
//# sourceMappingURL=main.bde4a438.chunk.js.map