(this.webpackJsonpcalculator=this.webpackJsonpcalculator||[]).push([[0],{363:function(t,e,n){},365:function(t,e,n){},377:function(t,e){},625:function(t,e,n){"use strict";n.r(e);var i=n(0),s=n.n(i),a=n(19),r=n.n(a),o=(n(363),n(36)),c=n(40),l=n.n(c),u=n(159),b=n(20),d=n(69),j=(n(365),n(659)),x=n(24),m=n(1),p="mmol/l",h="g",O="g/ml",g={en:{insulinUnitsTitle:"Bolus insulin (food)",insulinUnitsTakeInsulinButtonText:"Take",insulinUnitsNoInsulinButtonText:"Don't take",insulinUnitsResetButtonText:"Reset",insulinUnitsUnitText:"units",insulinUnitsAddProportionateCarbsButtonText:"Add carbs by portion",insulinUnitsConsumedCarbsLabelText:"Consumed carbs",insulinUnitsConsumedCarbsInfoText:Object(m.jsxs)("div",{children:["You can add together the number of carbs you will be eating or drinking here, 14+(16x4).",Object(m.jsx)("p",{children:"If you click the 'ADD CARBS BY PORTION' button, you will be take to the 'Carbs by portion' calculator."})]}),insulinUnitsConsumedCarbsUnitText:h,insulinUnitsCurrentBgLabelText:"Current glucose",insulinUnitsCurrentBgInfoText:"",insulinUnitsCurrentBgUnitText:p,insulinUnitsUnitAdjustmentPercentageLabelText:"Insulin efficiency adjustment",insulinUnitsUnitAdjustmentPercentageInfoText:Object(m.jsxs)("div",{children:["You can reduce the efficacy of your insulin with stress/illness or by sitting down a lot and you can increase your insulin efficacy by exercising more than usual.",Object(m.jsx)("p",{children:"Example: +20 for stress/illness/sitting, -20 for lots of exercise, -10 for mild exercise."})]}),insulinUnitsUnitAdjustmentPercentageUnitText:"%",insulinUnitsPersonalisedSettingsButtonText:"Settings adjustments",insulinUnitsTargetBgLabelText:"Target glucose",insulinUnitsTargetBgInfoText:"",insulinUnitsTargetBgUnitText:p,insulinUnitsCarbsPerUnitLabelText:"Carbs per unit",insulinUnitsCarbsPerUnitInfoText:Object(m.jsxs)("div",{children:["How many carbs do you need, per insulin unit, to correct your blood glucose?",Object(m.jsx)("p",{children:"Bigger amounts mean less insulin, as you can eat/drink more carbs per unit. Smaller amounts mean more insulin as you can eat/drink fewer carbs per unit."})]}),insulinUnitsCarbsPerUnitText:h,insulinUnitsBgPerUnitLabelText:"Glucose correction per unit",insulinUnitsBgPerUnitInfoText:Object(m.jsxs)("div",{children:["How many mmol/l would your blood glucose reading drop for 1 unit of insulin?",Object(m.jsx)("p",{children:"Bigger amounts mean less insulin as 1 unit will move your sugar by a larger degree. Smaller amounts mean more insulin."})]}),insulinUnitsBgPerUnitUnitText:p,recordsTitle:"Records",proportionateCarbsTitle:"Carbs by portion",proportionateCarbsUnitText:h,proportionateCarbsCarbRatioTitle:"Carb ratio of food",proportionateCarbsCarbRatioInfoText:"From the packet or by looking up the carbs in your favourite app, you can enter the number of carbs in the food/drink, usually per 100g (weight) or per 100ml (volume)",proportionateCarbsAddButtonText:"Add to carbs",proportionateCarbCancelButtonText:"Cancel",proportionateCarbsResetButtonText:"Reset",proportionateCarbsCarbsPerAmountLabelText:"Carbs",proportionateCarbsCarbsPerAmountUnitText:h,proportionateCarbsCarbsPerAmountInfoText:"This will usually be listed in the 'Carbohydrates' row on the back of the packet.",proportionateCarbsColumnAmountLabelText:"Per amount",proportionateCarbsColumnAmountUnitText:O,proportionateCarbsColumnAmountInfoText:"This will usually be listed in the column header on the back of the packet.",proportionateCarbsAmountConsumedTitle:"Amount consumed",proportionateCarbsAmountConsumedInfoText:"This section allows you to apply the ratio above to the amount of food/drink you will be consuming.",proportionateCarbsTotalAmountLabelText:"Total amount",proportionateCarbsTotalAmountUnitText:O,proportionateCarbsTotalAmountInfoText:"Either the total g/ml of the packet or the total g/ml of the meal stuff (potatoes, pasta, fizzy drink, etc).",proportionateCarbsPortionRatioLabelText:"Portion",proportionateCarbsPortionRatioInfoText:"How much of the total g/ml will you consume?",proportionateCarbsPortionOptions:Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)("option",{"aria-label":"None",value:1,children:"All"}),Object(m.jsx)("option",{value:.5,children:"1/2 Half"}),Object(m.jsx)("option",{value:1/3,children:"1/3 One third"}),Object(m.jsx)("option",{value:1/4,children:"1/4 One quarter"}),Object(m.jsx)("option",{value:.2,children:"1/5 One fifth"}),Object(m.jsx)("option",{value:1/6,children:"1/6 One sixth"}),Object(m.jsx)("option",{value:1/8,children:"1/8 One eighth"}),Object(m.jsx)("option",{value:2,children:"2 Two"}),Object(m.jsx)("option",{value:2/3,children:"2/3 Two thirds"}),Object(m.jsx)("option",{value:.4,children:"2/5 Two fifths"}),Object(m.jsx)("option",{value:3,children:"3 Three"}),Object(m.jsx)("option",{value:3/4,children:"3/4 Three quarters"}),Object(m.jsx)("option",{value:.6,children:"3/5 Three fifths"}),Object(m.jsx)("option",{value:3/8,children:"3/8 Three eighths"}),Object(m.jsx)("option",{value:4,children:"4 Four"}),Object(m.jsx)("option",{value:.8,children:"4/5 Four fifths"}),Object(m.jsx)("option",{value:5,children:"5 Five"}),Object(m.jsx)("option",{value:5/6,children:"5/6 Five sixths"}),Object(m.jsx)("option",{value:5/8,children:"5/8 Five eighths"})]}),settingsInsulinUnitsTitle:"Bolus insulin (food)",settingsDefaultCurrentBgLabelText:"Default current glucose",settingsDefaultCurrentBgInfoText:"The default value should match your 'Default target glucose'.",settingsDefaultCurrentBgUnitText:p,settingsDefaultUnitAdjustmentPercentageLabelText:"Default insulin efficiency adjustment",settingsDefaultUnitAdjustmentPercentageInfoText:Object(m.jsxs)("div",{children:["You can reduce the efficacy of your insulin with stress/illness or by sitting down a lot and you can increase your insulin efficacy by exercising more than usual.",Object(m.jsx)("p",{children:"Example: +20 for stress/illness/sitting, -20 for lots of exercise, -10 for mild exercise."})]}),settingsDefaultUnitAdjustmentPercentageUnitText:"%",settingsDefaultTargetBgLabelText:"Default target glucose",settingsDefaultTargetBgInfoText:"",settingsDefaultTargetBgUnitText:p,settingsDefaultCarbsPerUnitLabelText:"Default carbs per unit",settingsDefaultCarbsPerUnitInfoText:Object(m.jsxs)("div",{children:["How many carbs do you need, per insulin unit, to correct your blood glucose?",Object(m.jsx)("p",{children:"Bigger amounts mean less insulin, as you can eat/drink more carbs per unit. Smaller amounts mean more insulin as you can eat/drink fewer carbs per unit."})]}),settingsDefaultCarbsPerUnitUnitText:h,settingsDefaultBgPerUnitLabelText:"Default glucose correction per unit",settingsDefaultBgPerUnitInfoText:Object(m.jsxs)("div",{children:["How many mmol/l would your blood glucose reading drop for 1 unit of insulin?",Object(m.jsx)("p",{children:"Bigger amounts mean less insulin as 1 unit will move your sugar by a larger degree. Smaller amounts mean more insulin."})]}),settingsDefaultBgPerUnitUnitText:p,settingsCarbsPerMealAmountTitle:"Carbs per portion",settingsDefaultColumnAmountLabelText:"Default per amount",settingsDefaultColumnAmountInfoText:"This will usually be listed in the column header on the back of the packet.",settingsDefaultColumnAmountUnitText:O,settingsDefaultTotalPacketAmountLabelText:"Default total amount",settingsDefaultTotalPacketAmountInfoText:"Should match the 'Default per amount'",settingsDefaultTotalPacketAmountUnitText:O,settingsDefaultPortionRatioLabelText:"Default portion",settingsDefaultPortionRatioInfoText:"",settingsDefaultPortionOptions:Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)("option",{"aria-label":"None",value:1,children:"All"}),Object(m.jsx)("option",{value:.5,children:"1/2 Half"}),Object(m.jsx)("option",{value:1/3,children:"1/3 One third"}),Object(m.jsx)("option",{value:1/4,children:"1/4 One quarter"}),Object(m.jsx)("option",{value:.2,children:"1/5 One fifth"}),Object(m.jsx)("option",{value:1/6,children:"1/6 One sixth"}),Object(m.jsx)("option",{value:1/8,children:"1/8 One eighth"}),Object(m.jsx)("option",{value:2,children:"2 Two"}),Object(m.jsx)("option",{value:2/3,children:"2/3 Two thirds"}),Object(m.jsx)("option",{value:.4,children:"2/5 Two fifths"}),Object(m.jsx)("option",{value:3,children:"3 Three"}),Object(m.jsx)("option",{value:3/4,children:"3/4 Three quarters"}),Object(m.jsx)("option",{value:.6,children:"3/5 Three fifths"}),Object(m.jsx)("option",{value:3/8,children:"3/8 Three eighths"}),Object(m.jsx)("option",{value:4,children:"4 Four"}),Object(m.jsx)("option",{value:.8,children:"4/5 Four fifths"}),Object(m.jsx)("option",{value:5,children:"5 Five"}),Object(m.jsx)("option",{value:5/6,children:"5/6 Five sixths"}),Object(m.jsx)("option",{value:5/8,children:"5/8 Five eighths"})]}),settingsRoundingTitle:"Rounding",settingsDefaultMinimumCarbsLabelText:"Minimum carbs",settingsDefaultMinimumCarbsInfoText:"Carbs will be rounded to this value.",settingsDefaultMinimumCarbsUnitText:h,settingsDefaultMinimumUnitsLabelText:"Minimum units",settingsDefaultMinimumUnitsInfoText:"Units will be rounded to this value.",settingsDefaultMinimumUnitsUnitText:"unit",warningTitle:"WARNING:",warningBody:Object(m.jsxs)(s.a.Fragment,{children:["This app is to be used only as an ",Object(m.jsx)("b",{children:"indication"})," of dosage amounts.",Object(m.jsx)("p",{children:"It is imperative that the user understands how to use the app and accepts liability for its use. The author accepts no liability for loss or damage resulting from the use of this app."}),Object(m.jsxs)("p",{children:['Please make sure you understand, set and appropriately adjust your "',Object(m.jsx)("b",{children:"Default glucose correction per unit"}),'" and "',Object(m.jsx)("b",{children:"Default carbs per unit"}),'" amounts in the settings panel before using this app.']}),Object(m.jsxs)("p",{children:["The bolus insulin calculator ",Object(m.jsx)("b",{children:"DOES NOT"})," take into account rising and falling of your blood glucose over time, as it is not connected to your blood glucose meter. You ",Object(m.jsx)("b",{children:"MUST"})," adjust your units manually."]}),Object(m.jsxs)("p",{children:["It is advised to start with the correct ",Object(m.jsx)("b",{children:"BASAL"})," insulin first. This could take you more than one day. To do this you should eat a no-carb evening meal or fast on your evening meal. Adjust your basal insulin until your blood glucose is flat over night, which you will see/monitor in the mornings. Make sure to do this when you are not ill, stressed, eating/drinking irregularly or doing abnormal amounts of exercise, you need a baseline basal that you can adjust later."]}),Object(m.jsxs)("p",{children:["Once your basal insulin dose is correct, you can change your ",Object(m.jsx)("i",{children:"default carbohydrates per unit"})," and ",Object(m.jsx)("i",{children:"default glucose correction per unit"})," to best suit your own meal times and corrections. A bigger ",Object(m.jsx)("i",{children:"carbs per unit"})," and ",Object(m.jsx)("i",{children:"glucose per unit"})," value will mean less insulin, a smaller value will mean more insulin."]})]}),aboutBody:function(t){var e=Object(x.c)((function(t){return t.settings}));return Object(m.jsx)(s.a.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"This is a product demo for an upcoming app. Please do not share the link unless given express permission from the author."}),Object(m.jsxs)("p",{children:["Author: ",Object(m.jsx)("a",{href:"https://oliverfoster.co.uk/about",target:"_blank",children:"Oliver Foster"}),Object(m.jsx)("br",{}),"Version: ",e.version,Object(m.jsx)("br",{}),"Update available: ",Boolean(e.needsUpdating)?"Yes":"No",Object(m.jsx)("br",{}),e.needsUpdating&&Object(m.jsx)(j.a,{onClick:function(){window.serviceWorkerRegistration.active.postMessage("update")},children:"Update now"})]}),Object(m.jsxs)("p",{children:["Leave feedback or requests using the form at ",Object(m.jsx)("a",{href:"https://oliverfoster.co.uk/contact",target:"_blank",children:"oliverfoster.co.uk/contact"}),". Make sure to say that your message is regarding the ",Object(m.jsx)("b",{children:"diabetes calculator"}),"."]}),Object(m.jsxs)("p",{children:["Copyright \xa9 2023, Oliver Foster",Object(m.jsx)("br",{})]})]})})}}},f=n(31),v=n(54),C=n(52);function T(t){if(!t)return t;var e={};for(var n in t)n.startsWith("ui_")||(e[n]=t[n],e["ui_".concat(n)]=t[n]);return e}var _,y=T({version:"0.0.22",needsUpdating:!1,calculationType:"both",consumedCarbs:0,currentBg:5,minimumUnits:.1,carbsPerUnit:0,bgPerUnit:0,targetBg:5,unitAdjustmentPercentage:0,carbsPerColumnAmount:0,columnAmount:100,totalPacketAmount:100,portionRatio:1,minimumCarbs:.1,lang:"en"}),U=(_=T(JSON.parse(localStorage.getItem("settings")||"null"))||{},Object(d.a)(Object(d.a)({},_),{},{version:null}));for(var A in y){var P;U[A]=null!==(P=null===U||void 0===U?void 0:U[A])&&void 0!==P?P:y[A]}var k={view:{title:""},settings:U,insulinUnits:{ui_calculationType:null,consumedCarbs:null,currentBg:null,unitAdjustmentPercentage:null,minimumUnits:null,carbsPerUnit:null,bgPerUnit:null,targetBg:null,ui_consumedCarbs:null,ui_currentBg:null,ui_unitAdjustmentPercentage:null,ui_minimumUnits:null,ui_carbsPerUnit:null,ui_bgPerUnit:null,ui_targetBg:null,ui_unitAdjustmentRatio:0,ui_isTaken:!1,bgDistance:0,bgUnits:0,carbUnits:0,totalUnits:0,adjustedTotalUnits:0,roundedAdjustedTotalUnits:0},proportionateCarbs:{carbsPerColumnAmount:null,columnAmount:null,totalPacketAmount:null,portionRatio:null,minimumCarbs:null,ui_carbsPerColumnAmount:null,ui_columnAmount:null,ui_totalPacketAmount:null,ui_portionRatio:null,ui_minimumCarbs:null,ui_isTaken:!1,carbRatio:0,totalPacketCarbs:0,consumedCarbs:0,roundedConsumedCarbs:0},records:JSON.parse(localStorage.getItem("records")||"[]")},B=Object(C.b)({name:"settings",initialState:k.settings,reducers:{allSettingsChanged:function(t,e){Object.assign(t,e.payload),localStorage.setItem("settings",JSON.stringify(t,null,2))}}}),N=B.actions.allSettingsChanged,I=B.reducer,w=n(7),D=n(136),S=n(707),F=n(671),R=n(708),L=n(676),W=n(679),M=n(704),K=Object(C.b)({name:"view",initialState:k.view,reducers:{titleChanged:function(t,e){t.title=e.payload}}}),E=K.actions.titleChanged,J=K.reducer;function H(t,e){t=Math.round(t/e)*e;var n=String(t);if(n.includes(".")){var i=String(e),s=i.slice(i.indexOf(".")+1),a=n.slice(0,n.indexOf(".")+1+s.length);return parseFloat(a)}return t}var G=Object(C.b)({name:"insulinUnits",initialState:k.insulinUnits,reducers:{allInsulinUnitsChanged:function(t,e){!function(t,e){Object.assign(t,e);var n=t.ui_calculationType,i="both"===n||"carbs"===n,s="both"===n||"correction"===n,a=t.consumedCarbs,r=t.currentBg,o=t.unitAdjustmentPercentage,c=t.targetBg,l=t.carbsPerUnit,u=t.bgPerUnit,b=t.minimumUnits,d=1+o/100,j=r-c,x=u?j/u:0,m=l?a/l:0,p=[i&&m,s&&x].filter(Boolean).reduce((function(t,e){return t+e}),0),h=p*d,O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t<e?e:t}(H(h,b));Object.assign(t,{unitAdjustmentRatio:d,bgDistance:j,bgUnits:x,carbUnits:m,totalUnits:p,adjustedTotalUnits:h,roundedAdjustedTotalUnits:O})}(t,e.payload)},markTaken:function(t,e){t.ui_isTaken=!0}}}),Y=G.actions,q=Y.allInsulinUnitsChanged,z=Y.markTaken,V=G.reducer,X=Object(C.b)({name:"records",initialState:k.records,reducers:{recordTakeInsulin:function(t,e){var n=e.payload,i=n.ui_calculationType,s=n.consumedCarbs,a=n.currentBg,r=n.unitAdjustmentPercentage,o=n.minimumUnits,c=n.carbsPerUnit,l=n.bgPerUnit,u=n.targetBg,b=n.unitAdjustmentRatio,d=n.bgDistance,j=n.bgUnits,x=n.carbUnits,m=n.totalUnits,p=n.adjustedTotalUnits,h=n.roundedAdjustedTotalUnits;t.unshift({date:Date.now(),calculationType:i,consumedCarbs:s,currentBg:a,unitAdjustmentPercentage:r,minimumUnits:o,carbsPerUnit:c,bgPerUnit:l,targetBg:u,unitAdjustmentRatio:b,bgDistance:d,bgUnits:j,carbUnits:x,totalUnits:m,adjustedTotalUnits:p,roundedAdjustedTotalUnits:h}),localStorage.setItem("records",JSON.stringify(t,null,2))},recordNoInsulin:function(t,e){var n=e.payload,i=n.consumedCarbs,s=n.currentBg,a=n.unitAdjustmentPercentage,r=n.minimumUnits,o=n.carbsPerUnit,c=n.bgPerUnit,l=n.targetBg,u=n.unitAdjustmentRatio,b=n.bgDistance;t.unshift({date:Date.now(),consumedCarbs:i,currentBg:s,unitAdjustmentPercentage:a,minimumUnits:r,carbsPerUnit:o,bgPerUnit:c,targetBg:l,unitAdjustmentRatio:u,bgDistance:b,calculationType:null,bgUnits:0,carbUnits:0,totalUnits:0,adjustedTotalUnits:0,roundedAdjustedTotalUnits:0}),localStorage.setItem("records",JSON.stringify(t,null,2))},resetRecords:function(t){t.length=0,localStorage.setItem("records",JSON.stringify(t,null,2))}}}),Q=X.actions,Z=Q.recordTakeInsulin,$=Q.recordNoInsulin,tt=Q.resetRecords,et=X.reducer,nt=n(701);function it(t){return t=(t=String(t)).replace(/x/i,"*"),Object(nt.a)(t)}function st(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=Object(d.a)({},t),n=Object(d.a)({},n);var i={};for(var s in n)try{n[s]=s.startsWith("ui_")?n[s]:it(n[s])}catch(b){delete n[s]}for(var a in n){var r=a.startsWith("ui_")?a.slice(3):a;n[a]===e[r]&&(n[a]=null,t[a]=null,i[a]=null)}for(var o in t){var c,l,u=o.startsWith("ui_")?o.slice(3):o;i[o]=null!==(c=null!==(l=n[o])&&void 0!==l?l:t[o])&&void 0!==c?c:e[u]}return i}function at(t,e){t=Object(d.a)({},t);var n={};for(var i in t)if(i.startsWith("ui_")){var s=i.slice(3);n[i]=e[s],n[s]=e[s]}var a={};for(var r in n)try{n[r]=r.startsWith("ui_")?n[r]:it(n[r])}catch(x){delete n[r]}for(var o in n){var c=o.startsWith("ui_")?o.slice(3):o;n[o]===e[c]&&(n[o]=null,t[o]=null,a[o]=null)}for(var l in t){var u,b,j=l.startsWith("ui_")?l.slice(3):l;a[l]=null!==(u=null!==(b=n[l])&&void 0!==b?b:t[l])&&void 0!==u?u:e[j]}return a}function rt(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.noui;return function(t,e){e.target.select()}}function ot(t,e,n,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=s.noui,r=void 0!==a&&a;return function(s,a){var c=a.target.value;try{var l;n(i(st(t,e,r?Object(o.a)({},s,c||e[s]):(l={},Object(o.a)(l,s,c||e[s]),Object(o.a)(l,"ui_".concat(s),c),l))))}catch(u){}}}function ct(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i.noui,a=void 0!==s&&s;return function(i,s){var r;""===s.target.value&&e(n(a?Object(o.a)({},i,t[i]):(r={},Object(o.a)(r,i,t[i]),Object(o.a)(r,"ui_".concat(i),t[i]),r)))}}var lt=n(663),ut={paddingBottom:"1em"},bt={marginTop:"0em",width:"100%",marginBottom:"1em"},dt={addCarbs:{display:"inline-flex",padding:"6px 0px",minWidth:"32px"},outputContainer:ut,topButton:bt},jt=(Object(lt.a)(dt),n(664)),xt=n(665),mt=n(666),pt=n(670),ht=n(672),Ot=n(673),gt=n(674),ft=n(675),vt=n(677),Ct=n(678),Tt=void 0,_t=function(){var t,e=Object(x.c)((function(t){return t.insulinUnits})),n=Object(x.c)((function(t){return t.settings})),a=g[n.lang],r=st(e,n),o=Object(x.b)(),c=function(t){13===t.keyCode&&t.target.blur()},l=function(t,e,n){return(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).noui,function(t,e){var n=e.target.value;if("0"!==n){if(e.target.setSelectionRange){var i=2*e.target.value.length;setTimeout((function(){e.target.setSelectionRange(i,i)}),0)}else e.target.value="",e.target.value=n;e.target.scrollTop=99999}else e.target.select()}}(),u=rt(),d=ot(e,n,o,q),p=ct(n,o,q);Object(i.useEffect)((function(){o(E(a.insulinUnitsTitle))}));var h=Object(i.useState)(!1),O=Object(b.a)(h,2),f=O[0],C=O[1],T=Object(i.useState)(!1),_=Object(b.a)(T,2),y=_[0],U=_[1],A=Object(i.useState)(!1),P=Object(b.a)(A,2),k=P[0],B=P[1],N=Object(i.useState)(!1),I=Object(b.a)(N,2),w=I[0],K=I[1],J=Object(i.useState)(!1),H=Object(b.a)(J,2),G=H[0],Y=H[1],V=Object(i.useState)(!1),X=Object(b.a)(V,2),Q=X[0],tt=X[1],et=null!==(t=e.ui_calculationType)&&void 0!==t?t:n.calculationType;return Object(m.jsx)(s.a.Fragment,{children:Object(m.jsxs)("section",{className:"insulinunits screen__container",children:[Object(m.jsx)("div",{className:"insulinunits__output",style:ut,children:Object(m.jsxs)(D.a,{variant:"h2",noWrap:!0,children:[e.roundedAdjustedTotalUnits||0,a.insulinUnitsUnitText]})}),Object(m.jsxs)("div",{className:"insulinunits__calculation_type",style:{display:"flex",marginBottom:"1em"},children:[Object(m.jsxs)("div",{style:{flex:1},children:[Object(m.jsx)("input",{onChange:d.bind(Tt,"calculationType"),id:"calc_type_carbs",name:"calc_type",type:"radio",value:"carbs",checked:"carbs"===et}),Object(m.jsx)("label",{htmlFor:"calc_type_carbs",children:"Carbs"})]}),Object(m.jsxs)("div",{style:{flex:1},children:[Object(m.jsx)("input",{onChange:d.bind(Tt,"calculationType"),id:"calc_type_correction",name:"calc_type",type:"radio",value:"correction",checked:"correction"===et}),Object(m.jsx)("label",{htmlFor:"calc_type_correction",children:"Correction"})]}),Object(m.jsxs)("div",{style:{flex:2},children:[Object(m.jsx)("input",{onChange:d.bind(Tt,"calculationType"),id:"calc_type_both",name:"calc_type",type:"radio",value:"both",checked:"both"===et}),Object(m.jsx)("label",{htmlFor:"calc_type_both",children:"Carbs and Correction"})]})]}),Object(m.jsxs)("div",{className:"insulinunits__button__take",style:{display:"flex"},children:[Object(m.jsxs)(j.a,{className:"button",style:bt,disabled:e.ui_isTaken||0===e.roundedAdjustedTotalUnits,onClick:function(){o($(e)),o(z(e))},children:[Object(m.jsx)(jt.a,{}),"\xa0",a.insulinUnitsNoInsulinButtonText]}),Object(m.jsxs)(j.a,{className:"button",style:bt,disabled:e.ui_isTaken||0===e.roundedAdjustedTotalUnits,onClick:function(){o(Z(e)),o(z(e))},children:[Object(m.jsx)(xt.a,{}),"\xa0",a.insulinUnitsTakeInsulinButtonText]})]}),Object(m.jsx)("div",{className:"insulinunits__button__reset",children:Object(m.jsxs)(j.a,{className:"button",style:bt,onClick:function(){o(q(at(e,n)))},children:[Object(m.jsx)(mt.a,{}),"\xa0",a.insulinUnitsResetButtonText]})}),Object(m.jsxs)("div",{className:"insulinunits_input input__group",children:[Object(m.jsx)("div",{className:"insulinunits__input__consumedcarbs input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[a.insulinUnitsConsumedCarbsLabelText,a.insulinUnitsConsumedCarbsInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return C(!f)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:f?"flex":"none"},onClose:function(){return C(!1)},children:a.insulinUnitsConsumedCarbsInfoText})]})]}),disabled:e.ui_isTaken,onKeyUp:c,onFocus:l.bind(Tt,"consumedCarbs"),onChange:d.bind(Tt,"consumedCarbs"),onBlur:p.bind(Tt,"consumedCarbs"),value:r.ui_consumedCarbs,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(ht.a,{})}),endAdornment:Object(m.jsxs)(F.a,{position:"end",children:[e.consumedCarbs||0,a.insulinUnitsConsumedCarbsUnitText]})}})}),Object(m.jsx)("div",{className:"insulinunits__button__addproportionatecarbs",children:Object(m.jsxs)(j.a,{disabled:e.ui_isTaken,className:"button",style:bt,component:v.b,to:"/proportionatecarbs",children:[Object(m.jsx)(Ot.a,{}),"\xa0",a.insulinUnitsAddProportionateCarbsButtonText]})}),Object(m.jsx)("div",{className:"insulinunits__input__currentbg input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[a.insulinUnitsCurrentBgLabelText,a.insulinUnitsCurrentBgInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return U(!y)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:y?"flex":"none"},onClose:function(){return U(!1)},children:a.insulinUnitsCurrentBgInfoText})]})]}),disabled:e.ui_isTaken,onKeyUp:c,onFocus:u.bind(Tt,"currentBg"),onChange:d.bind(Tt,"currentBg"),onBlur:p.bind(Tt,"currentBg"),value:r.ui_currentBg,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(gt.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:a.insulinUnitsCurrentBgUnitText})}})}),Object(m.jsx)("div",{className:"insulinunits__input__unitadjustmentpercentage input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[a.insulinUnitsUnitAdjustmentPercentageLabelText,a.insulinUnitsUnitAdjustmentPercentageInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return B(!k)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:k?"flex":"none"},onClose:function(){return B(!1)},children:a.insulinUnitsUnitAdjustmentPercentageInfoText})]})]}),disabled:e.ui_isTaken,onKeyUp:c,onFocus:u.bind(Tt,"unitAdjustmentPercentage"),onChange:d.bind(Tt,"unitAdjustmentPercentage"),onBlur:p.bind(Tt,"unitAdjustmentPercentage"),value:r.ui_unitAdjustmentPercentage,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(ft.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:a.insulinUnitsUnitAdjustmentPercentageUnitText})}})}),Object(m.jsxs)(R.a,{children:[Object(m.jsxs)(L.a,{expandIcon:Object(m.jsx)(vt.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:[Object(m.jsx)(Ct.a,{}),"\xa0",a.insulinUnitsPersonalisedSettingsButtonText]}),Object(m.jsxs)(W.a,{children:[Object(m.jsx)("div",{className:"insulinunits__input__targetbg input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[a.insulinUnitsTargetBgLabelText,a.insulinUnitsTargetBgInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return K(!w)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:w?"flex":"none"},onClose:function(){return K(!1)},children:a.insulinUnitsTargetBgInfoText})]})]}),disabled:e.ui_isTaken,onKeyUp:c,onFocus:u.bind(Tt,"targetBg"),onChange:d.bind(Tt,"targetBg"),onBlur:p.bind(Tt,"targetBg"),value:r.ui_targetBg,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(Ct.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:a.insulinUnitsTargetBgUnitText})}})}),Object(m.jsx)("div",{className:"insulinunits__input__carbsperunit input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[a.insulinUnitsCarbsPerUnitLabelText,a.insulinUnitsCarbsPerUnitInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return Y(!G)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:G?"flex":"none"},onClose:function(){return Y(!1)},children:a.insulinUnitsCarbsPerUnitInfoText})]})]}),disabled:e.ui_isTaken,onKeyUp:c,onFocus:u.bind(Tt,"carbsPerUnit"),onChange:d.bind(Tt,"carbsPerUnit"),onBlur:p.bind(Tt,"carbsPerUnit"),value:r.ui_carbsPerUnit,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(Ct.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:a.insulinUnitsCarbsPerUnitText})}})}),Object(m.jsx)("div",{className:"insulinunits__input__bgperunit input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[a.insulinUnitsBgPerUnitLabelText,a.insulinUnitsBgPerUnitInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return tt(!Q)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:Q?"flex":"none"},onClose:function(){return tt(!1)},children:a.insulinUnitsBgPerUnitInfoText})]})]}),disabled:e.ui_isTaken,onKeyUp:c,onFocus:u.bind(Tt,"bgPerUnit"),onChange:d.bind(Tt,"bgPerUnit"),onBlur:p.bind(Tt,"bgPerUnit"),value:r.ui_bgPerUnit,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(Ct.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:a.insulinUnitsBgPerUnitUnitText})}})})]})]})]})]})})},yt=n(710),Ut=n(702),At=Object(C.b)({name:"proportionateCarbs",initialState:k.proportionateCarbs,reducers:{allProportionateCarbsChanged:function(t,e){!function(t,e){Object.assign(t,e);var n=t.carbsPerColumnAmount,i=t.columnAmount,s=i?n/i:0,a=s*t.totalPacketAmount,r=a*t.portionRatio,o=H(r,t.minimumCarbs);Object.assign(t,{carbRatio:s,totalPacketCarbs:a,consumedCarbs:r,roundedConsumedCarbs:o})}(t,e.payload)}}}),Pt=At.actions.allProportionateCarbsChanged,kt=At.reducer,Bt=n(680),Nt=n(681),It=n(682),wt=n(683),Dt=n(684),St=n(685),Ft=void 0,Rt=function(){var t=Object(x.c)((function(t){return t.insulinUnits})),e=Object(x.c)((function(t){return t.proportionateCarbs})),n=Object(x.c)((function(t){return t.settings})),a=g[n.lang],r=st(e,n),o=Object(x.b)(),c=function(t){13===t.keyCode&&t.target.blur()},l=rt(),u=ot(e,n,o,Pt),d=ct(n,o,Pt);Object(i.useEffect)((function(){o(E(a.proportionateCarbsTitle))}));var p=Object(i.useState)(!1),h=Object(b.a)(p,2),O=h[0],f=h[1],C=Object(i.useState)(!1),T=Object(b.a)(C,2),_=T[0],y=T[1],U=Object(i.useState)(!1),A=Object(b.a)(U,2),P=A[0],k=A[1],B=Object(i.useState)(!1),N=Object(b.a)(B,2),I=N[0],w=N[1],R=Object(i.useState)(!1),L=Object(b.a)(R,2),W=L[0],K=L[1],J=Object(i.useState)(!1),H=Object(b.a)(J,2),G=H[0],Y=H[1];return Object(m.jsxs)("section",{className:"proportionatecarbs screen__container",children:[Object(m.jsx)("div",{className:"proportionatecarbs__output",style:ut,children:Object(m.jsxs)(D.a,{variant:"h2",noWrap:!0,children:[e.roundedConsumedCarbs||0,a.proportionateCarbsUnitText]})}),Object(m.jsxs)("div",{className:"proportionatecarbs__button__addtoinsulin",style:{display:"flex"},children:[Object(m.jsxs)(j.a,{className:"button",style:bt,component:v.b,to:"/insulinunits",children:[Object(m.jsx)(Bt.a,{}),"\xa0",a.proportionateCarbCancelButtonText]}),Object(m.jsxs)(j.a,{className:"button",style:bt,component:v.b,to:"/insulinunits",disabled:t.ui_isTaken||0===e.roundedConsumedCarbs,onClick:function(){var i=e.roundedConsumedCarbs||0;if(i){var s=parseFloat(t.ui_consumedCarbs)?"".concat(t.ui_consumedCarbs,"+").concat(i):"".concat(i);o(q(st(t,n,{consumedCarbs:s,ui_consumedCarbs:s})))}},children:[Object(m.jsx)(Nt.a,{}),"\xa0",a.proportionateCarbsAddButtonText]})]}),Object(m.jsx)("div",{className:"proportionatecarbs__button__reset",children:Object(m.jsxs)(j.a,{className:"button",disabled:t.ui_isTaken,style:bt,onClick:function(){o(Pt(at(e,n)))},children:[Object(m.jsx)(mt.a,{}),"\xa0",a.proportionateCarbsResetButtonText]})}),Object(m.jsxs)(D.a,{className:"section__divider",variant:"h6",noWrap:!0,children:[a.proportionateCarbsCarbRatioTitle,a.proportionateCarbsCarbRatioInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return f(!O)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:O?"flex":"none"},onClose:function(){return f(!1)},children:a.proportionateCarbsCarbRatioInfoText})]})]}),Object(m.jsxs)("div",{className:"proportionatecarbs_input input__group",children:[Object(m.jsxs)("div",{className:"proportionatecarbs__input__carbsperweight__container",children:[Object(m.jsx)("div",{className:"proportionatecarbs__input__carbspercolumnweight input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[a.proportionateCarbsCarbsPerAmountLabelText,a.proportionateCarbsCarbsPerAmountInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return y(!_)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:_?"flex":"none"},onClose:function(){return y(!1)},children:a.proportionateCarbsCarbsPerAmountInfoText})]})]}),disabled:t.ui_isTaken,onKeyUp:c,onFocus:l.bind(Ft,"carbsPerColumnAmount"),onChange:u.bind(Ft,"carbsPerColumnAmount"),onBlur:d.bind(Ft,"carbsPerColumnAmount"),value:r.ui_carbsPerColumnAmount,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(It.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:a.proportionateCarbsCarbsPerAmountUnitText})}})}),Object(m.jsx)("div",{className:"proportionatecarbs__input__columnweight input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[a.proportionateCarbsColumnAmountLabelText,a.proportionateCarbsColumnAmountInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return k(!P)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:P?"flex":"none"},onClose:function(){return k(!1)},children:a.proportionateCarbsColumnAmountInfoText})]})]}),disabled:t.ui_isTaken,onKeyUp:c,onFocus:l.bind(Ft,"columnAmount"),onChange:u.bind(Ft,"columnAmount"),onBlur:d.bind(Ft,"columnAmount"),value:r.ui_columnAmount,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(wt.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:a.proportionateCarbsColumnAmountUnitText})}})})]}),Object(m.jsxs)(D.a,{className:"section__divider",variant:"h6",noWrap:!0,children:[a.proportionateCarbsAmountConsumedTitle,a.proportionateCarbsAmountConsumedInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return w(!I)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:I?"flex":"none"},onClose:function(){return w(!1)},children:a.proportionateCarbsAmountConsumedInfoText})]})]}),Object(m.jsxs)("div",{className:"proportionatecarbs__input__amountconsumed__container",children:[Object(m.jsx)("div",{className:"proportionatecarbs__input__totalpacketweight input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[a.proportionateCarbsTotalAmountLabelText,a.proportionateCarbsTotalAmountInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return K(!W)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:W?"flex":"none"},onClose:function(){return K(!1)},children:a.proportionateCarbsTotalAmountInfoText})]})]}),disabled:t.ui_isTaken,onKeyUp:c,onFocus:l.bind(Ft,"totalPacketAmount"),onChange:u.bind(Ft,"totalPacketAmount"),onBlur:d.bind(Ft,"totalPacketAmount"),value:r.ui_totalPacketAmount,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(Dt.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:a.proportionateCarbsTotalAmountUnitText})}})}),Object(m.jsxs)("div",{className:"proportionatecarbs__input__portionratio input__container",children:[Object(m.jsxs)(yt.a,{htmlFor:"portionratio",children:[a.proportionateCarbsPortionRatioLabelText,a.proportionateCarbsPortionRatioInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return Y(!G)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:G?"flex":"none"},onClose:function(){return Y(!1)},children:a.proportionateCarbsPortionRatioInfoText})]})]}),Object(m.jsx)("div",{className:"select__container",children:Object(m.jsx)(Ut.a,{native:!0,disabled:t.ui_isTaken,value:r.ui_portionRatio,onChange:u.bind(Ft,"portionRatio"),onBlur:d.bind(Ft,"portionRatio"),label:a.proportionateCarbsPortionRatioLabelText,inputProps:{name:"portionratio",id:"portionratio"},startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(St.a,{})}),children:a.proportionateCarbsPortionOptions})})]})]})]})]})},Lt=n(686),Wt=n(705),Mt=n(687),Kt=n(348),Et=n(349),Jt=n(135),Ht=n(133),Gt=n(171),Yt=n(347),qt=function(){var t=Object(x.c)((function(t){return t.records})),e=Object(x.c)((function(t){return t.settings})),n=g[e.lang],a=Object(x.b)();Object(i.useEffect)((function(){a(E(n.recordsTitle))}));var r=Date.now(),o=36e5,c=r,l=t.map((function(t){return{date:t.data,hour:(t.date-c)/o,units:t.roundedAdjustedTotalUnits,carbs:t.consumedCarbs,glucose:t.currentBg}})).filter((function(t){return t.hour>-48}));return Object(m.jsx)(s.a.Fragment,{children:Object(m.jsxs)("section",{className:"insulinunits screen__container",children:[Object(m.jsx)("div",{className:"insulinunits__output",style:ut,children:Object(m.jsx)(Lt.a,{width:"100%",height:300,children:Object(m.jsxs)(Wt.a,{data:l,margin:{top:2,right:2,bottom:2,left:2},children:[Object(m.jsx)(Mt.a,{strokeDasharray:"3 3"}),Object(m.jsx)(Kt.a,{dataKey:"hour",type:"number",label:"last 24 hours",domain:[-24,0],interval:o}),Object(m.jsx)(Et.a,{yAxisId:"left",label:{value:"carbs",angle:-90}}),Object(m.jsx)(Et.a,{yAxisId:"right",orientation:"right",label:{value:"units and glucose",angle:90}}),Object(m.jsx)(Jt.a,{labelFormatter:function(t,e,n){return new Date(c+t*o).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",hour:"numeric",minute:"numeric"})}}),Object(m.jsx)(Ht.a,{}),Object(m.jsx)(Gt.a,{yAxisId:"left",dataKey:"carbs",fill:"green"}),Object(m.jsx)(Yt.a,{yAxisId:"right",type:"monotone",dataKey:"glucose",stroke:"blue"}),"``",Object(m.jsx)(Gt.a,{yAxisId:"right",dataKey:"units",fill:"red"})]})})}),Object(m.jsx)("div",{className:"insulinunits__button__reset",children:Object(m.jsxs)(j.a,{className:"button",style:bt,onClick:function(){a(tt(t))},children:[Object(m.jsx)(mt.a,{}),"\xa0",n.insulinUnitsResetButtonText]})}),Object(m.jsx)("div",{className:"insulinunits_input input__group",children:Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Date"}),Object(m.jsx)("th",{children:"Glucose"}),Object(m.jsx)("th",{children:"Carbs"}),Object(m.jsx)("th",{children:"Units"}),Object(m.jsx)("th",{children:"For"})]})}),t.map((function(t,e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:new Date(t.date).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",hour:"numeric",minute:"numeric"})}),Object(m.jsxs)("td",{children:[t.currentBg,"mmol/l"]}),Object(m.jsxs)("td",{children:[t.consumedCarbs,"g"]}),Object(m.jsx)("td",{children:null===t.calculationType?"none":t.roundedAdjustedTotalUnits}),Object(m.jsx)("td",{children:null===t.calculationType?"n/a":t.calculationType})]},e)}))]})})]})})},zt=void 0,Vt=function(){var t=Object(x.c)((function(t){return t.settings})),e=g[t.lang],n=Object(x.b)(),a=function(t){13===t.keyCode&&t.target.blur()},r=rt(),o=ot(t,y,n,N,{noui:!1}),c=ct(y,n,N,{noui:!1});Object(i.useEffect)((function(){n(E("Settings"))}));var l=Object(i.useState)(!1),u=Object(b.a)(l,2),d=u[0],p=u[1],h=Object(i.useState)(!1),O=Object(b.a)(h,2),f=O[0],v=O[1],C=Object(i.useState)(!1),T=Object(b.a)(C,2),_=T[0],U=T[1],A=Object(i.useState)(!1),P=Object(b.a)(A,2),k=P[0],B=P[1],I=Object(i.useState)(!1),w=Object(b.a)(I,2),R=w[0],L=w[1],W=Object(i.useState)(!1),K=Object(b.a)(W,2),J=K[0],H=K[1],G=Object(i.useState)(!1),Y=Object(b.a)(G,2),q=Y[0],z=Y[1],V=Object(i.useState)(!1),X=Object(b.a)(V,2),Q=X[0],Z=X[1],$=Object(i.useState)(!1),tt=Object(b.a)($,2),et=tt[0],nt=tt[1],it=Object(i.useState)(!1),st=Object(b.a)(it,2),at=st[0],lt=st[1];return Object(m.jsx)("section",{className:"settings screen__container",children:Object(m.jsxs)("div",{className:"settings_input input__group",children:[Object(m.jsx)(D.a,{className:"section__divider",variant:"h6",noWrap:!0,children:e.settingsInsulinUnitsTitle}),Object(m.jsx)("div",{className:"settings__input__currentbg input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[e.settingsDefaultCurrentBgLabelText,e.settingsDefaultCurrentBgInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return p(!d)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:d?"flex":"none"},onClose:function(){return p(!1)},children:e.settingsDefaultCurrentBgInfoText})]})]}),onKeyUp:a,onFocus:r.bind(zt,"currentBg"),onChange:o.bind(zt,"currentBg"),onBlur:c.bind(zt,"currentBg"),value:t.ui_currentBg,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(gt.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:e.settingsDefaultCurrentBgUnitText})}})}),Object(m.jsx)("div",{className:"settings__input__unitadjustmentpercentage input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[e.settingsDefaultUnitAdjustmentPercentageLabelText,e.settingsDefaultUnitAdjustmentPercentageInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return U(!_)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:_?"flex":"none"},onClose:function(){return U(!1)},children:e.settingsDefaultUnitAdjustmentPercentageInfoText})]})]}),onKeyUp:a,onFocus:r.bind(zt,"unitAdjustmentPercentage"),onChange:o.bind(zt,"unitAdjustmentPercentage"),onBlur:c.bind(zt,"unitAdjustmentPercentage"),value:t.ui_unitAdjustmentPercentage,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(ft.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:e.settingsDefaultUnitAdjustmentPercentageUnitText})}})}),Object(m.jsx)("div",{className:"settings__input__targetbg input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[e.settingsDefaultTargetBgLabelText,e.settingsDefaultTargetBgInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return v(!f)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:f?"flex":"none"},onClose:function(){return v(!1)},children:e.settingsDefaultTargetBgInfoText})]})]}),onKeyUp:a,onFocus:r.bind(zt,"targetBg"),onChange:o.bind(zt,"targetBg"),onBlur:c.bind(zt,"targetBg"),value:t.ui_targetBg,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(Ct.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:e.settingsDefaultTargetBgUnitText})}})}),Object(m.jsx)("div",{className:"settings__input__carbsperunit input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[e.settingsDefaultCarbsPerUnitLabelText,e.settingsDefaultCarbsPerUnitInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return B(!k)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:k?"flex":"none"},onClose:function(){return B(!1)},children:e.settingsDefaultCarbsPerUnitInfoText})]})]}),onKeyUp:a,onFocus:r.bind(zt,"carbsPerUnit"),onChange:o.bind(zt,"carbsPerUnit"),onBlur:c.bind(zt,"carbsPerUnit"),value:t.ui_carbsPerUnit,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(Ct.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:e.settingsDefaultCarbsPerUnitUnitText})}})}),Object(m.jsx)("div",{className:"settings__input__bgperunit input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[e.settingsDefaultBgPerUnitLabelText,e.settingsDefaultBgPerUnitInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return L(!R)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:R?"flex":"none"},onClose:function(){return L(!1)},children:e.settingsDefaultBgPerUnitInfoText})]})]}),onKeyUp:a,onFocus:r.bind(zt,"bgPerUnit"),onChange:o.bind(zt,"bgPerUnit"),onBlur:c.bind(zt,"bgPerUnit"),value:t.ui_bgPerUnit,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(Ct.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:e.settingsDefaultBgPerUnitUnitText})}})}),Object(m.jsx)(D.a,{className:"section__divider",variant:"h6",noWrap:!0,children:e.settingsCarbsPerMealAmountTitle}),Object(m.jsx)("div",{className:"settings__input__columnweight input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[e.settingsDefaultColumnAmountLabelText,e.settingsDefaultColumnAmountInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return H(!J)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:J?"flex":"none"},onClose:function(){return H(!1)},children:e.settingsDefaultColumnAmountInfoText})]})]}),onKeyUp:a,onFocus:r.bind(zt,"columnAmount"),onChange:o.bind(zt,"columnAmount"),onBlur:c.bind(zt,"columnAmount"),value:t.ui_columnAmount,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(wt.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:e.settingsDefaultColumnAmountUnitText})}})}),Object(m.jsx)("div",{className:"settings__input__totalpacketweight input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[e.settingsDefaultTotalPacketAmountLabelText,e.settingsDefaultTotalPacketAmountInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return z(!q)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:q?"flex":"none"},onClose:function(){return z(!1)},children:e.settingsDefaultTotalPacketAmountInfoText})]})]}),onKeyUp:a,onFocus:r.bind(zt,"totalPacketAmount"),onChange:o.bind(zt,"totalPacketAmount"),onBlur:c.bind(zt,"totalPacketAmount"),value:t.ui_totalPacketAmount,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(Dt.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:e.settingsDefaultTotalPacketAmountUnitText})}})}),Object(m.jsxs)("div",{className:"proportionatecarbs__input__portionratio input__container",children:[Object(m.jsx)(yt.a,{htmlFor:"portionratio",children:e.settingsDefaultPortionRatioLabelText}),Object(m.jsx)("div",{className:"select__container",children:Object(m.jsx)(Ut.a,{native:!0,value:t.ui_portionRatio,onChange:o.bind(zt,"portionRatio"),onBlur:c.bind(zt,"portionRatio"),label:Object(m.jsxs)("div",{children:[e.settingsDefaultPortionRatioLabelText,e.settingsDefaultPortionRatioInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return Z(!Q)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:Q?"flex":"none"},onClose:function(){return Z(!1)},children:e.settingsDefaultPortionRatioInfoText})]})]}),inputProps:{name:"portionratio",id:"portionratio"},startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(St.a,{})}),children:e.settingsDefaultPortionOptions})})]}),Object(m.jsx)(D.a,{className:"section__divider",variant:"h6",noWrap:!0,children:e.settingsRoundingTitle}),Object(m.jsx)("div",{className:"settings__input__minimumcarbs input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[e.settingsDefaultMinimumCarbsLabelText,e.settingsDefaultMinimumCarbsInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return nt(!et)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:et?"flex":"none"},onClose:function(){return nt(!1)},children:e.settingsDefaultMinimumCarbsInfoText})]})]}),onKeyUp:a,onFocus:r.bind(zt,"minimumCarbs"),onChange:o.bind(zt,"minimumCarbs"),onBlur:c.bind(zt,"minimumCarbs"),value:t.ui_minimumCarbs,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(Ct.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:e.settingsDefaultMinimumCarbsUnitText})}})}),Object(m.jsx)("div",{className:"settings__input__minimumunits input__container",children:Object(m.jsx)(S.a,{label:Object(m.jsxs)("div",{children:[e.settingsDefaultMinimumUnitsLabelText,e.settingsDefaultMinimumUnitsInfoText&&Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(j.a,{className:"btn-info",onClick:function(){return lt(!at)},children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(M.a,{severity:"info",className:"info",style:{display:at?"flex":"none"},onClose:function(){return lt(!1)},children:e.settingsDefaultMinimumUnitsInfoText})]})]}),onKeyUp:a,onFocus:r.bind(zt,"minimumUnits"),onChange:o.bind(zt,"minimumUnits"),onBlur:c.bind(zt,"minimumUnits"),value:t.ui_minimumUnits,InputProps:{startAdornment:Object(m.jsx)(F.a,{position:"start",children:Object(m.jsx)(Ct.a,{})}),endAdornment:Object(m.jsx)(F.a,{position:"end",children:e.settingsDefaultMinimumUnitsUnitText})}})})]})})},Xt=function(){var t=Object(x.c)((function(t){return t.settings})),e=Object(x.b)(),n=g[t.lang];return Object(i.useEffect)((function(){e(E("Warning"))})),Object(m.jsxs)("section",{className:"proportionatecarbs screen__container",children:[Object(m.jsx)(D.a,{variant:"h4",noWrap:!0,children:n.warningTitle}),Object(m.jsx)("div",{children:n.warningBody})]})},Qt=function(){var t=Object(x.b)(),e=Object(x.c)((function(t){return t.settings})),n=g[e.lang];return Object(i.useEffect)((function(){t(E("About"))})),Object(m.jsx)("section",{className:"proportionatecarbs screen__container",children:Object(m.jsx)(n.aboutBody,{})})},Zt=n(688),$t=n(689),te=n(627),ee=n(706),ne=n(696),ie=n(669),se=n(697),ae=n(698),re=n(699),oe=n(690),ce=n(691),le=n(692),ue=n(693),be=n(694),de=n(695),je=n(700),xe=n(46),me="auto",pe=Object(lt.a)((function(t){return{root:{display:"flex"},appBar:{zIndex:t.zIndex.drawer-1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},menuButton:{marginLeft:-20,marginRight:20},hide:{display:"none"},drawer:{width:me,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:me,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},drawerClose:{transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),overflowX:"hidden",width:t.spacing(0)+1},toolbar:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1)},t.mixins.toolbar),content:{flexGrow:1,padding:t.spacing(2)}}}));var he=Object(f.g)((function(t){var e=t.history;return Object(i.useEffect)((function(){var t=e.listen((function(){window.scrollTo(0,0)}));return function(){t()}}),[e]),null}));var Oe=function(){var t,e,n=Object(x.b)(),a=Object(x.c)((function(t){return t.view})),r=Object(x.c)((function(t){return t.settings})),c=g[r.lang],d=pe(),j=Object(xe.a)(),p=s.a.useState(!1),h=Object(b.a)(p,2),O=h[0],C=h[1],T=function(){C(!1)};return Object(i.useEffect)((function(){Object(u.a)(l.a.mark((function t(){var e,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("./manifest.json");case 2:return e=t.sent,t.next=5,e.json();case 5:i=t.sent,console.log("Installed: ".concat(r.version,", Manifest: ").concat(i.version)),n(N({needsUpdating:i.version!==r.version}));case 8:case"end":return t.stop()}}),t)})))()})),Object(m.jsxs)(v.a,{children:[Object(m.jsx)(he,{}),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(Zt.a,{position:"fixed",className:Object(w.a)(d.appBar,Object(o.a)({},d.appBarShift,O)),children:Object(m.jsxs)($t.a,{children:[Object(m.jsxs)(D.a,{variant:"h6",noWrap:!0,children:[Object(m.jsx)(f.b,{path:"/insulinunits",children:Object(m.jsx)(oe.a,{})}),Object(m.jsx)(f.b,{path:"/proportionatecarbs",children:Object(m.jsx)(Ot.a,{})}),Object(m.jsx)(f.b,{path:"/records",children:Object(m.jsx)(ce.a,{})}),Object(m.jsx)(f.b,{path:"/settings",children:Object(m.jsx)(Ct.a,{})}),Object(m.jsx)(f.b,{path:"/warning",children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(f.b,{path:"/about",children:Object(m.jsx)(le.a,{})}),"\xa0",a.title]}),Object(m.jsx)(te.a,{color:"inherit","aria-label":"open drawer",onClick:function(){C(!0)},edge:"start",className:Object(w.a)(d.menuButton,Object(o.a)({},d.hide,O)),children:Object(m.jsx)(ue.a,{})})]})}),Object(m.jsxs)(ee.a,{variant:"permanent",className:Object(w.a)(d.drawer,(t={},Object(o.a)(t,d.drawerOpen,O),Object(o.a)(t,d.drawerClose,!O),t)),classes:{paper:Object(w.a)((e={},Object(o.a)(e,d.drawerOpen,O),Object(o.a)(e,d.drawerClose,!O),e))},children:[Object(m.jsx)("div",{className:d.toolbar,children:Object(m.jsx)(te.a,{onClick:T,children:"rtl"===j.direction?Object(m.jsx)(be.a,{}):Object(m.jsx)(de.a,{})})}),Object(m.jsx)(ne.a,{}),Object(m.jsxs)(ie.a,{children:[Object(m.jsxs)(se.a,{button:!0,component:v.b,to:"/insulinunits",onClick:T,children:[Object(m.jsx)(ae.a,{children:Object(m.jsx)(oe.a,{})}),Object(m.jsx)(re.a,{primary:c.insulinUnitsTitle})]},"Insulin"),Object(m.jsxs)(se.a,{button:!0,component:v.b,to:"/records",onClick:T,children:[Object(m.jsx)(ae.a,{children:Object(m.jsx)(ce.a,{})}),Object(m.jsx)(re.a,{primary:c.recordsTitle})]},"Records")]}),Object(m.jsx)(ne.a,{}),Object(m.jsxs)(ie.a,{children:[Object(m.jsxs)(se.a,{button:!0,component:v.b,to:"/settings",onClick:T,children:[Object(m.jsx)(ae.a,{children:Object(m.jsx)(Ct.a,{})}),Object(m.jsx)(re.a,{primary:"Settings"})]},"Settings"),Object(m.jsxs)(se.a,{button:!0,component:v.b,to:"/warning",onClick:T,children:[Object(m.jsx)(ae.a,{children:Object(m.jsx)(pt.a,{})}),Object(m.jsx)(re.a,{primary:"Warning"})]},"Warning"),Object(m.jsxs)(se.a,{button:!0,disabled:!r.needsUpdating,onClick:function(){window.serviceWorkerRegistration.active.postMessage("update")},children:[Object(m.jsx)(ae.a,{children:Object(m.jsx)(je.a,{})}),Object(m.jsx)(re.a,{primary:"Update"})]},"Update"),Object(m.jsxs)(se.a,{button:!0,component:v.b,to:"/about",onClick:T,children:[Object(m.jsx)(ae.a,{children:Object(m.jsx)(le.a,{})}),Object(m.jsx)(re.a,{primary:"About"})]},"About")]})]}),Object(m.jsxs)("main",{className:d.content,children:[Object(m.jsx)("div",{className:d.toolbar}),Object(m.jsxs)(f.d,{children:[Object(m.jsx)(f.b,{path:"/insulinunits",children:Object(m.jsx)(_t,{})}),Object(m.jsx)(f.b,{path:"/records",children:Object(m.jsx)(qt,{})}),Object(m.jsx)(f.b,{path:"/proportionatecarbs",children:Object(m.jsx)(Rt,{})}),Object(m.jsx)(f.b,{path:"/settings",children:Object(m.jsx)(Vt,{})}),Object(m.jsx)(f.b,{path:"/warning",children:Object(m.jsx)(Xt,{})}),Object(m.jsx)(f.b,{path:"/about",children:Object(m.jsx)(Qt,{})}),Object(m.jsx)(f.a,{to:"/insulinunits"})]})]})]})]})},ge=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,712)).then((function(e){var n=e.getCLS,i=e.getFID,s=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),i(t),s(t),a(t),r(t)}))},fe=Object(C.a)({reducer:{view:J,settings:I,insulinUnits:V,proportionateCarbs:kt,records:et}});"serviceWorker"in navigator&&window.addEventListener("load",Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.serviceWorker.register("./serviceWorker.js");case 3:e=t.sent,console.log("Service worker registered! \ud83d\ude0e",e),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),console.log("\ud83d\ude25 Service worker registration failed: ",t.t0),t.abrupt("return");case 11:navigator.serviceWorker.addEventListener("message",(function(t){switch(console.log("The service worker sent me a message: ".concat(t.data)),t.data){case"refresh":return void window.location.reload();default:return}})),navigator.serviceWorker.ready.then((function(t){window.serviceWorkerRegistration=t,t.active.postMessage("hi")}));case 13:case"end":return t.stop()}}),t,null,[[0,7]])})))),r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(x.a,{store:fe,children:Object(m.jsx)(Oe,{})})}),document.getElementById("root")),ge()}},[[625,1,2]]]);
//# sourceMappingURL=main.4fe26ee1.chunk.js.map