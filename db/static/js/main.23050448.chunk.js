(this.webpackJsonpcalculator=this.webpackJsonpcalculator||[]).push([[0],{107:function(e,t,n){},109:function(e,t,n){},121:function(e,t){},124:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),s=n(11),a=n.n(s),o=(n(107),n(21)),c=n(26),l=n.n(c),u=n(70),b=n(14),j=n(37),d=(n(109),n(1)),p={en:{insulinUnitsTitle:"Food insulin (bolus)",proportionateCarbsTitle:"Carbs by meal weight",proportionateCarbsCarbRatioTitle:"Carb ratio",proportionateCarbsAddButtonText:"Add to eaten carbs",proportionateCarbsCarbsPerWeightLabelText:"Carbs",proportionateCarbsCarbsPerWeightInfoText:"",proportionateCarbsColumnWeightLabelText:"Per weight",proportionateCarbsColumnWeightInfoText:"",proportionateCarbsAmountConsumedTitle:"Amount eaten",proportionateCarbsTotalWeightLabelText:"Total weight",proportionateCarbsTotalWeightInfoText:"",proportionateCarbsPortionRatioLabelText:"Portion",proportionateCarbsPortionRatioInfoText:"",insulinUnitsAddProportionateCarbsButtonText:"Add carbs by meal weight",insulinUnitsConsumedCarbsLabelText:"Eaten carbs",insulinUnitsConsumedCarbsInfoText:Object(d.jsxs)("div",{children:["You can add together the number of carbs you've eaten here, 14+(16x4).",Object(d.jsx)("p",{children:"If you click the 'Add carbs by meal weight' button, you will be take to the 'Carbs by meal weight' calculator."})]}),insulinUnitsCurrentBgLabelText:"Current glucose",insulinUnitsCurrentBgInfoText:"",insulinUnitsUnitAdjustmentPercentageLabelText:"Insulin efficiency adjustment",insulinUnitsUnitAdjustmentPercentageInfoText:Object(d.jsx)("div",{children:"You an reduce the efficacy of your insulin with stress/illness or by sitting down a lot. Example: +20 for stress/illness/sitting, -20 for exercise."}),insulinUnitsPersonalisedSettingsButtonText:"Personalised settings",insulinUnitsTargetBgLabelText:"Target glucose",insulinUnitsTargetBgInfoText:"",insulinUnitsCarbsPerUnitLabelText:"Carbs per unit",insulinUnitsCarbsPerUnitInfoText:Object(d.jsxs)("div",{children:["How many carbs would you need exactly 1 unit to correct?",Object(d.jsx)("p",{children:"Bigger amounts mean less insulin, as you can eat more carbs per unit. Smaller amounts mean more insulin as you can eat fewer carbs per unit."})]}),insulinUnitsBgPerUnitLabelText:"Glucose correction per unit",insulinUnitsBgPerUnitInfoText:Object(d.jsxs)("div",{children:["How many mmol/l would your glucose drop for 1 unit?",Object(d.jsx)("p",{children:"Bigger amounts mean less insulin as 1 unit will move your blood sugar by a larger degree. Smaller amounts mean more insulin."})]})}},h=n(15),x=n(34),O=n(36);function g(e){if(!e)return e;var t={};for(var n in e)n.startsWith("ui_")||(t[n]=e[n],t["ui_".concat(n)]=e[n]);return t}var m,f=g({version:"0.0.12",needsUpdating:!1,consumedCarbs:0,currentBg:5,minimumUnits:.1,carbsPerUnit:0,bgPerUnit:0,targetBg:5,unitAdjustmentPercentage:0,carbsPerColumnWeight:0,columnWeight:100,totalPacketWeight:100,portionRatio:1,minimumCarbs:.1,lang:"en"}),v=(m=g(JSON.parse(localStorage.getItem("settings")||"null"))||{},Object(j.a)(Object(j.a)({},m),{},{version:null}));for(var _ in f){var C;v[_]=null!==(C=null===v||void 0===v?void 0:v[_])&&void 0!==C?C:f[_]}var T={view:{title:""},settings:v,insulinUnits:{consumedCarbs:null,currentBg:null,unitAdjustmentPercentage:null,minimumUnits:null,carbsPerUnit:null,bgPerUnit:null,targetBg:null,ui_consumedCarbs:null,ui_currentBg:null,ui_unitAdjustmentPercentage:null,ui_minimumUnits:null,ui_carbsPerUnit:null,ui_bgPerUnit:null,ui_targetBg:null,ui_unitAdjustmentRatio:0,bgDistance:0,bgUnits:0,carbUnits:0,totalUnits:0,adjustedTotalUnits:0,roundedAdjustedTotalUnits:0},proportionateCarbs:{carbsPerColumnWeight:null,columnWeight:null,totalPacketWeight:null,portionRatio:null,minimumCarbs:null,ui_carbsPerColumnWeight:null,ui_columnWeight:null,ui_totalPacketWeight:null,ui_portionRatio:null,ui_minimumCarbs:null,carbRatio:0,totalPacketCarbs:0,consumedCarbs:0,roundedConsumedCarbs:0}},y=Object(O.b)({name:"settings",initialState:T.settings,reducers:{allSettingsChanged:function(e,t){Object.assign(e,t.payload),localStorage.setItem("settings",JSON.stringify(e,null,2))}}}),U=y.actions.allSettingsChanged,P=y.reducer,w=n(4),A=n(12),B=n(65),W=n(161),k=n(198),N=n(167),I=n(199),S=n(172),F=n(175),R=n(196),L=Object(O.b)({name:"view",initialState:T.view,reducers:{titleChanged:function(e,t){e.title=t.payload}}}),E=L.actions.titleChanged,D=L.reducer;function M(e,t){e=Math.round(e/t)*t;var n=String(e);if(n.includes(".")){var i=String(t),r=i.slice(i.indexOf(".")+1),s=n.slice(0,n.indexOf(".")+1+r.length);return parseFloat(s)}return e}var K=Object(O.b)({name:"insulinUnits",initialState:T.insulinUnits,reducers:{allInsulinUnitsChanged:function(e,t){!function(e,t){Object.assign(e,t);var n=e.consumedCarbs,i=e.currentBg,r=e.unitAdjustmentPercentage,s=e.targetBg,a=e.carbsPerUnit,o=e.bgPerUnit,c=1+r/100,l=i-s,u=o?l/o:0,b=a?n/a:0,j=u+b,d=j*c,p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e<t?t:e}(M(d,e.minimumUnits));Object.assign(e,{unitAdjustmentRatio:c,bgDistance:l,bgUnits:u,carbUnits:b,totalUnits:j,adjustedTotalUnits:d,roundedAdjustedTotalUnits:p})}(e,t.payload)}}}),H=K.actions.allInsulinUnitsChanged,q=K.reducer,J=n(193);function Y(e){return e=(e=String(e)).replace(/x/i,"*"),Object(J.a)(e)}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=Object(j.a)({},e),n=Object(j.a)({},n);var i={};for(var r in n)try{n[r]=r.startsWith("ui_")?n[r]:Y(n[r])}catch(b){delete n[r]}for(var s in n){var a=s.startsWith("ui_")?s.slice(3):s;n[s]===t[a]&&(n[s]=null,e[s]=null,i[s]=null)}for(var o in e){var c,l,u=o.startsWith("ui_")?o.slice(3):o;i[o]=null!==(c=null!==(l=n[o])&&void 0!==l?l:e[o])&&void 0!==c?c:t[u]}return i}function z(e,t){e=Object(j.a)({},e);var n={};for(var i in e)if(i.startsWith("ui_")){var r=i.slice(3);n[i]=t[r],n[r]=t[r]}var s={};for(var a in n)try{n[a]=a.startsWith("ui_")?n[a]:Y(n[a])}catch(p){delete n[a]}for(var o in n){var c=o.startsWith("ui_")?o.slice(3):o;n[o]===t[c]&&(n[o]=null,e[o]=null,s[o]=null)}for(var l in e){var u,b,d=l.startsWith("ui_")?l.slice(3):l;s[l]=null!==(u=null!==(b=n[l])&&void 0!==b?b:e[l])&&void 0!==u?u:t[d]}return s}function V(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.noui;return function(e,t){t.target.select()}}function X(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=r.noui,a=void 0!==s&&s;return function(r,s){var c=s.target.value;try{var l;n(i(G(e,t,a?Object(o.a)({},r,c||t[r]):(l={},Object(o.a)(l,r,c||t[r]),Object(o.a)(l,"ui_".concat(r),c),l))))}catch(u){}}}function Q(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.noui,s=void 0!==r&&r;return function(i,r){var a;""===r.target.value&&t(n(s?Object(o.a)({},i,e[i]):(a={},Object(o.a)(a,i,e[i]),Object(o.a)(a,"ui_".concat(i),e[i]),a)))}}var Z=n(157),$={paddingBottom:"1em"},ee={marginTop:"0em",width:"100%"},te={addCarbs:{display:"inline-flex",padding:"6px 0px",minWidth:"32px"},outputContainer:$,topButton:ee},ne=(Object(Z.a)(te),n(162)),ie=n(166),re=n(168),se=n(169),ae=n(170),oe=n(171),ce=n(173),le=n(174),ue=void 0,be=function(){var e=Object(A.c)((function(e){return e.insulinUnits})),t=Object(A.c)((function(e){return e.settings})),n=p[t.lang],s=G(e,t),a=Object(A.b)(),o=function(e){13===e.keyCode&&e.target.blur()},c=function(e,t,n){return(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).noui,function(e,t){var n=t.target.value;if("0"!==n){if(t.target.setSelectionRange){var i=2*t.target.value.length;setTimeout((function(){t.target.setSelectionRange(i,i)}),0)}else t.target.value="",t.target.value=n;t.target.scrollTop=99999}else t.target.select()}}(),l=V(),u=X(e,t,a,H),j=Q(t,a,H);Object(i.useEffect)((function(){a(E(n.insulinUnitsTitle))}));var h=Object(i.useState)(!1),O=Object(b.a)(h,2),g=O[0],m=O[1],f=Object(i.useState)(!1),v=Object(b.a)(f,2),_=v[0],C=v[1],T=Object(i.useState)(!1),y=Object(b.a)(T,2),U=y[0],P=y[1],w=Object(i.useState)(!1),L=Object(b.a)(w,2),D=L[0],M=L[1],K=Object(i.useState)(!1),q=Object(b.a)(K,2),J=q[0],Y=q[1],Z=Object(i.useState)(!1),te=Object(b.a)(Z,2),be=te[0],je=te[1];return Object(d.jsx)(r.a.Fragment,{children:Object(d.jsxs)("section",{className:"insulinunits screen__container",children:[Object(d.jsx)("div",{className:"insulinunits__output",style:$,children:Object(d.jsxs)(B.a,{variant:"h2",noWrap:!0,children:[e.roundedAdjustedTotalUnits||0,"units"]})}),Object(d.jsx)("div",{className:"insulinunits__button__reset",children:Object(d.jsxs)(W.a,{className:"button",style:ee,onClick:function(){a(H(z(e,t)))},children:[Object(d.jsx)(ne.a,{}),"\xa0Reset"]})}),Object(d.jsxs)("div",{className:"insulinunits_input input__group",children:[Object(d.jsx)("div",{className:"insulinunits__input__consumedcarbs input__container",children:Object(d.jsx)(k.a,{label:Object(d.jsxs)("div",{children:[n.insulinUnitsConsumedCarbsLabelText,n.insulinUnitsConsumedCarbsInfoText&&Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(W.a,{className:"btn-info",onClick:function(){return m(!g)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(R.a,{severity:"info",style:{display:g?"flex":"none"},onClose:function(){return m(!1)},children:n.insulinUnitsConsumedCarbsInfoText})]})]}),onKeyUp:o,onFocus:c.bind(ue,"consumedCarbs"),onChange:u.bind(ue,"consumedCarbs"),onBlur:j.bind(ue,"consumedCarbs"),value:s.ui_consumedCarbs,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(re.a,{})}),endAdornment:Object(d.jsxs)(N.a,{position:"end",children:[e.consumedCarbs||0,"g"]})}})}),Object(d.jsx)("div",{className:"insulinunits__button__addproportionatecarbs",children:Object(d.jsxs)(W.a,{className:"button",style:ee,component:x.b,to:"/proportionatecarbs",children:[Object(d.jsx)(se.a,{}),"\xa0",n.insulinUnitsAddProportionateCarbsButtonText]})}),Object(d.jsx)("div",{className:"insulinunits__input__currentbg input__container",children:Object(d.jsx)(k.a,{label:Object(d.jsxs)("div",{children:[n.insulinUnitsCurrentBgLabelText,n.insulinUnitsCurrentBgInfoText&&Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(W.a,{className:"btn-info",onClick:function(){return C(!_)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(R.a,{severity:"info",style:{display:_?"flex":"none"},onClose:function(){return C(!1)},children:n.insulinUnitsCurrentBgInfoText})]})]}),onKeyUp:o,onFocus:l.bind(ue,"currentBg"),onChange:u.bind(ue,"currentBg"),onBlur:j.bind(ue,"currentBg"),value:s.ui_currentBg,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(ae.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"mmol/l"})}})}),Object(d.jsx)("div",{className:"insulinunits__input__unitadjustmentpercentage input__container",children:Object(d.jsx)(k.a,{label:Object(d.jsxs)("div",{children:[n.insulinUnitsUnitAdjustmentPercentageLabelText,n.insulinUnitsUnitAdjustmentPercentageInfoText&&Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(W.a,{className:"btn-info",onClick:function(){return P(!U)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(R.a,{severity:"info",style:{display:U?"flex":"none"},onClose:function(){return P(!1)},children:n.insulinUnitsUnitAdjustmentPercentageInfoText})]})]}),onKeyUp:o,onFocus:l.bind(ue,"unitAdjustmentPercentage"),onChange:u.bind(ue,"unitAdjustmentPercentage"),onBlur:j.bind(ue,"unitAdjustmentPercentage"),value:s.ui_unitAdjustmentPercentage,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(oe.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"%"})}})}),Object(d.jsxs)(I.a,{children:[Object(d.jsxs)(S.a,{expandIcon:Object(d.jsx)(ce.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:[Object(d.jsx)(le.a,{}),"\xa0",n.insulinUnitsPersonalisedSettingsButtonText]}),Object(d.jsxs)(F.a,{children:[Object(d.jsx)("div",{className:"insulinunits__input__targetbg input__container",children:Object(d.jsx)(k.a,{label:Object(d.jsxs)("div",{children:[n.insulinUnitsTargetBgLabelText,n.insulinUnitsTargetBgInfoText&&Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(W.a,{className:"btn-info",onClick:function(){return M(!D)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(R.a,{severity:"info",style:{display:D?"flex":"none"},onClose:function(){return M(!1)},children:n.insulinUnitsTargetBgInfoText})]})]}),onKeyUp:o,onFocus:l.bind(ue,"targetBg"),onChange:u.bind(ue,"targetBg"),onBlur:j.bind(ue,"targetBg"),value:s.ui_targetBg,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"mmol/l"})}})}),Object(d.jsx)("div",{className:"insulinunits__input__carbsperunit input__container",children:Object(d.jsx)(k.a,{label:Object(d.jsxs)("div",{children:[n.insulinUnitsCarbsPerUnitLabelText,n.insulinUnitsCarbsPerUnitInfoText&&Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(W.a,{className:"btn-info",onClick:function(){return Y(!J)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(R.a,{severity:"info",style:{display:J?"flex":"none"},onClose:function(){return Y(!1)},children:n.insulinUnitsCarbsPerUnitInfoText})]})]}),onKeyUp:o,onFocus:l.bind(ue,"carbsPerUnit"),onChange:u.bind(ue,"carbsPerUnit"),onBlur:j.bind(ue,"carbsPerUnit"),value:s.ui_carbsPerUnit,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"g"})}})}),Object(d.jsx)("div",{className:"insulinunits__input__bgperunit input__container",children:Object(d.jsx)(k.a,{label:Object(d.jsxs)("div",{children:[n.insulinUnitsBgPerUnitLabelText,n.insulinUnitsBgPerUnitInfoText&&Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(W.a,{className:"btn-info",onClick:function(){return je(!be)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(R.a,{severity:"info",style:{display:be?"flex":"none"},onClose:function(){return je(!1)},children:n.insulinUnitsBgPerUnitInfoText})]})]}),onKeyUp:o,onFocus:l.bind(ue,"bgPerUnit"),onChange:u.bind(ue,"bgPerUnit"),onBlur:j.bind(ue,"bgPerUnit"),value:s.ui_bgPerUnit,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"mmol/l"})}})})]})]})]})]})})},je=n(201),de=n(194),pe=Object(O.b)({name:"proportionateCarbs",initialState:T.proportionateCarbs,reducers:{allProportionateCarbsChanged:function(e,t){!function(e,t){Object.assign(e,t);var n=e.carbsPerColumnWeight,i=e.columnWeight,r=i?n/i:0,s=r*e.totalPacketWeight,a=s*e.portionRatio,o=M(a,e.minimumCarbs);Object.assign(e,{carbRatio:r,totalPacketCarbs:s,consumedCarbs:a,roundedConsumedCarbs:o})}(e,t.payload)}}}),he=pe.actions.allProportionateCarbsChanged,xe=pe.reducer,Oe=n(176),ge=n(177),me=n(178),fe=n(179),ve=n(180),_e=void 0,Ce=function(){var e=Object(A.c)((function(e){return e.insulinUnits})),t=Object(A.c)((function(e){return e.proportionateCarbs})),n=Object(A.c)((function(e){return e.settings})),s=p[n.lang],a=G(t,n),o=Object(A.b)(),c=function(e){13===e.keyCode&&e.target.blur()},l=V(),u=X(t,n,o,he),j=Q(n,o,he);Object(i.useEffect)((function(){o(E(s.proportionateCarbsTitle))}));var h=Object(i.useState)(!1),O=Object(b.a)(h,2),g=O[0],m=O[1],f=Object(i.useState)(!1),v=Object(b.a)(f,2),_=v[0],C=v[1],T=Object(i.useState)(!1),y=Object(b.a)(T,2),U=y[0],P=y[1],w=Object(i.useState)(!1),I=Object(b.a)(w,2),S=I[0],F=I[1];return Object(d.jsxs)("section",{className:"proportionatecarbs screen__container",children:[Object(d.jsx)("div",{className:"proportionatecarbs__output",style:$,children:Object(d.jsxs)(B.a,{variant:"h2",noWrap:!0,children:[t.roundedConsumedCarbs||0,"g"]})}),Object(d.jsx)("div",{className:"proportionatecarbs__button__reset",children:Object(d.jsxs)(W.a,{className:"button",style:ee,onClick:function(){o(he(z(t,n)))},children:[Object(d.jsx)(ne.a,{}),"\xa0Reset"]})}),Object(d.jsx)(B.a,{className:"section__divider",variant:"h6",noWrap:!0,children:s.proportionateCarbsCarbRatioTitle}),Object(d.jsxs)("div",{className:"proportionatecarbs_input input__group",children:[Object(d.jsxs)("div",{className:"proportionatecarbs__input__carbsperweight__container",children:[Object(d.jsx)("div",{className:"proportionatecarbs__input__carbspercolumnweight input__container",children:Object(d.jsx)(k.a,{label:Object(d.jsxs)("div",{children:[s.proportionateCarbsCarbsPerWeightLabelText,s.proportionateCarbsCarbsPerWeightInfoText&&Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(W.a,{className:"btn-info",onClick:function(){return m(!g)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(R.a,{severity:"info",style:{display:g?"flex":"none"},onClose:function(){return m(!1)},children:s.proportionateCarbsCarbsPerWeightInfoText})]})]}),onKeyUp:c,onFocus:l.bind(_e,"carbsPerColumnWeight"),onChange:u.bind(_e,"carbsPerColumnWeight"),onBlur:j.bind(_e,"carbsPerColumnWeight"),value:a.ui_carbsPerColumnWeight,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(Oe.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"g"})}})}),Object(d.jsx)("div",{className:"proportionatecarbs__input__columnweight input__container",children:Object(d.jsx)(k.a,{label:Object(d.jsxs)("div",{children:[s.proportionateCarbsColumnWeightLabelText,s.proportionateCarbsColumnWeightInfoText&&Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(W.a,{className:"btn-info",onClick:function(){return C(!_)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(R.a,{severity:"info",style:{display:_?"flex":"none"},onClose:function(){return C(!1)},children:s.proportionateCarbsColumnWeightInfoText})]})]}),onKeyUp:c,onFocus:l.bind(_e,"columnWeight"),onChange:u.bind(_e,"columnWeight"),onBlur:j.bind(_e,"columnWeight"),value:a.ui_columnWeight,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(ge.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"g"})}})})]}),Object(d.jsx)(B.a,{className:"section__divider",variant:"h6",noWrap:!0,children:s.proportionateCarbsAmountConsumedTitle}),Object(d.jsxs)("div",{className:"proportionatecarbs__input__amountconsumed__container",children:[Object(d.jsx)("div",{className:"proportionatecarbs__input__totalpacketweight input__container",children:Object(d.jsx)(k.a,{label:Object(d.jsxs)("div",{children:[s.proportionateCarbsTotalWeightLabelText,s.proportionateCarbsTotalWeightInfoText&&Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(W.a,{className:"btn-info",onClick:function(){return P(!U)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(R.a,{severity:"info",style:{display:U?"flex":"none"},onClose:function(){return P(!1)},children:s.proportionateCarbsTotalWeightInfoText})]})]}),onKeyUp:c,onFocus:l.bind(_e,"totalPacketWeight"),onChange:u.bind(_e,"totalPacketWeight"),onBlur:j.bind(_e,"totalPacketWeight"),value:a.ui_totalPacketWeight,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(me.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"g"})}})}),Object(d.jsxs)("div",{className:"proportionatecarbs__input__portionratio input__container",children:[Object(d.jsx)(je.a,{htmlFor:"portionratio",children:s.proportionateCarbsPortionRatioLabelText}),Object(d.jsx)("div",{className:"select__container",children:Object(d.jsxs)(de.a,{native:!0,value:a.ui_portionRatio,onChange:u.bind(_e,"portionRatio"),onBlur:j.bind(_e,"portionRatio"),label:Object(d.jsxs)("div",{children:[s.proportionateCarbsPortionRatioLabelText,s.proportionateCarbsPortionRatioInfoText&&Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(W.a,{className:"btn-info",onClick:function(){return F(!S)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(R.a,{severity:"info",style:{display:S?"flex":"none"},onClose:function(){return F(!1)},children:s.proportionateCarbsPortionRatioInfoText})]})]}),inputProps:{name:"portionratio",id:"portionratio"},startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(fe.a,{})}),children:[Object(d.jsx)("option",{"aria-label":"None",value:1,children:"Whole"}),Object(d.jsx)("option",{value:.5,children:"1/2 Half"}),Object(d.jsx)("option",{value:1/3,children:"1/3 One third"}),Object(d.jsx)("option",{value:1/4,children:"1/4 One quarter"}),Object(d.jsx)("option",{value:.2,children:"1/5 One fifth"}),Object(d.jsx)("option",{value:1/6,children:"1/6 One sixth"}),Object(d.jsx)("option",{value:1/8,children:"1/8 One eighth"}),Object(d.jsx)("option",{value:2,children:"2 Two"}),Object(d.jsx)("option",{value:2/3,children:"2/3 Two thirds"}),Object(d.jsx)("option",{value:.4,children:"2/5 Two fifths"}),Object(d.jsx)("option",{value:3,children:"3 Three"}),Object(d.jsx)("option",{value:.6,children:"3/5 Three fifths"}),Object(d.jsx)("option",{value:3/4,children:"3/4 Three quarters"}),Object(d.jsx)("option",{value:4,children:"4 Four"}),Object(d.jsx)("option",{value:.8,children:"4/5 Four fifths"}),Object(d.jsx)("option",{value:5,children:"5 Five"}),Object(d.jsx)("option",{value:5/6,children:"5/6 Five sixths"})]})})]})]})]}),Object(d.jsx)("div",{className:"proportionatecarbs__button__addtoinsulin",children:Object(d.jsxs)(W.a,{className:"button",style:ee,component:x.b,to:"/insulinunits",onClick:function(){var i=t.roundedConsumedCarbs||0;if(i){var r=parseFloat(e.ui_consumedCarbs)?"".concat(e.ui_consumedCarbs,"+").concat(i):"".concat(i);o(H(G(e,n,{consumedCarbs:r,ui_consumedCarbs:r})))}},children:[Object(d.jsx)(ve.a,{}),"\xa0",s.proportionateCarbsAddButtonText]})})]})},Te=void 0,ye=function(){var e=Object(A.c)((function(e){return e.settings})),t=p[e.lang],n=Object(A.b)(),s=X(e,f,n,U,{noui:!1}),a=Q(f,n,U,{noui:!1});Object(i.useEffect)((function(){n(E("Settings"))}));var o=Object(i.useState)(!1),c=Object(b.a)(o,2),l=c[0],u=c[1];return Object(d.jsx)("section",{className:"settings screen__container",children:Object(d.jsxs)("div",{className:"settings_input input__group",children:[Object(d.jsx)("div",{className:"settings__input__currentbg input__container",children:Object(d.jsx)(k.a,{label:"Default current blood glucose",onChange:s.bind(Te,"currentBg"),onBlur:a.bind(Te,"currentBg"),value:e.ui_currentBg,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(ae.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"mmol/l"})},helperText:":: This should match default target blood glucose ::"})}),Object(d.jsx)("div",{className:"settings__input__targetbg input__container",children:Object(d.jsx)(k.a,{label:"Default target blood glucose",onChange:s.bind(Te,"targetBg"),onBlur:a.bind(Te,"targetBg"),value:e.ui_targetBg,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"mmol/l"})},helperText:":: This should match default current blood glucose ::"})}),Object(d.jsx)("div",{className:"settings__input__unitadjustmentpercentage input__container",children:Object(d.jsx)(k.a,{label:"Default insulin efficiency adjustment",onChange:s.bind(Te,"unitAdjustmentPercentage"),onBlur:a.bind(Te,"unitAdjustmentPercentage"),value:e.ui_unitAdjustmentPercentage,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(oe.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"%"})},helperText:":: Example: +20 for stress/illness/sitting, -20 for exercise ::"})}),Object(d.jsx)("div",{className:"settings__input__carbsperunit input__container",children:Object(d.jsx)(k.a,{label:"Default carbs per unit",onChange:s.bind(Te,"carbsPerUnit"),onBlur:a.bind(Te,"carbsPerUnit"),value:e.ui_carbsPerUnit,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"g"})},helperText:":: How many carbs would you need exactly 1 unit to correct? Bigger amounts mean less insulin, as you can eat more carbs per unit. Smaller amounts mean more insulin as you can eat fewer carbs per unit. ::"})}),Object(d.jsx)("div",{className:"settings__input__bgperunit input__container",children:Object(d.jsx)(k.a,{label:"Default blood glucose correction per unit",onChange:s.bind(Te,"bgPerUnit"),onBlur:a.bind(Te,"bgPerUnit"),value:e.ui_bgPerUnit,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"mmol/l"})},helperText:":: How many mmol/l would your glucose drop for 1 unit? Bigger amounts mean less insulin as 1 unit will move your blood sugar by a larger degree. Smaller amounts mean more insulin. ::"})}),Object(d.jsx)("div",{className:"settings__input__columnweight input__container",children:Object(d.jsx)(k.a,{label:"Default per weight",onChange:s.bind(Te,"columnWeight"),onBlur:a.bind(Te,"columnWeight"),value:e.ui_columnWeight,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(ge.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"g"})},helperText:":: The 'per weight' or 'column weight', normally 100g ::"})}),Object(d.jsx)("div",{className:"settings__input__totalpacketweight input__container",children:Object(d.jsx)(k.a,{label:"Default total (net) weight",onChange:s.bind(Te,"totalPacketWeight"),onBlur:a.bind(Te,"totalPacketWeight"),value:e.ui_totalPacketWeight,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(me.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"g"})},helperText:":: Total weight of the packet/cake/meal ::"})}),Object(d.jsxs)("div",{className:"proportionatecarbs__input__portionratio input__container",children:[Object(d.jsx)(je.a,{htmlFor:"portionratio",children:t.proportionateCarbsPortionRatioLabelText}),Object(d.jsx)("div",{className:"select__container",children:Object(d.jsxs)(de.a,{native:!0,value:e.ui_portionRatio,onChange:s.bind(Te,"portionRatio"),onBlur:a.bind(Te,"portionRatio"),label:Object(d.jsxs)("div",{children:[t.proportionateCarbsPortionRatioLabelText,t.proportionateCarbsPortionRatioInfoText&&Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(W.a,{className:"btn-info",onClick:function(){return u(!l)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(R.a,{severity:"info",style:{display:l?"flex":"none"},onClose:function(){return u(!1)},children:t.proportionateCarbsPortionRatioInfoText})]})]}),inputProps:{name:"portionratio",id:"portionratio"},startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(fe.a,{})}),children:[Object(d.jsx)("option",{"aria-label":"None",value:1,children:"Whole"}),Object(d.jsx)("option",{value:.5,children:"1/2 Half"}),Object(d.jsx)("option",{value:1/3,children:"1/3 One third"}),Object(d.jsx)("option",{value:1/4,children:"1/4 One quarter"}),Object(d.jsx)("option",{value:.2,children:"1/5 One fifth"}),Object(d.jsx)("option",{value:1/6,children:"1/6 One sixth"}),Object(d.jsx)("option",{value:1/8,children:"1/8 One eighth"}),Object(d.jsx)("option",{value:2,children:"2 Two"}),Object(d.jsx)("option",{value:2/3,children:"2/3 Two thirds"}),Object(d.jsx)("option",{value:.4,children:"2/5 Two fifths"}),Object(d.jsx)("option",{value:3,children:"3 Three"}),Object(d.jsx)("option",{value:.6,children:"3/5 Three fifths"}),Object(d.jsx)("option",{value:3/4,children:"3/4 Three quarters"}),Object(d.jsx)("option",{value:4,children:"4 Four"}),Object(d.jsx)("option",{value:.8,children:"4/5 Four fifths"}),Object(d.jsx)("option",{value:5,children:"5 Five"}),Object(d.jsx)("option",{value:5/6,children:"5/6 Five sixths"})]})})]}),Object(d.jsx)("div",{className:"settings__input__minimumcarbs input__container",children:Object(d.jsx)(k.a,{label:"Minimum carbs",onChange:s.bind(Te,"minimumCarbs"),onBlur:a.bind(Te,"minimumCarbs"),value:e.ui_minimumCarbs,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"g"})},helperText:":: Carbs will be rounded to this amount ::"})}),Object(d.jsx)("div",{className:"settings__input__minimumunits input__container",children:Object(d.jsx)(k.a,{label:"Minimum units",onChange:s.bind(Te,"minimumUnits"),onBlur:a.bind(Te,"minimumUnits"),value:e.ui_minimumUnits,InputProps:{startAdornment:Object(d.jsx)(N.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(N.a,{position:"end",children:"unit"})},helperText:":: Units will be rounded to this amount ::"})})]})})},Ue=function(){var e=Object(A.b)();return Object(i.useEffect)((function(){e(E("Warning"))})),Object(d.jsxs)("section",{className:"proportionatecarbs screen__container",children:[Object(d.jsx)(B.a,{variant:"h4",noWrap:!0,children:"WARNING:"}),Object(d.jsxs)("div",{children:["This app is to be used only as an ",Object(d.jsx)("b",{children:"indication"})," of dosage amounts.",Object(d.jsx)("p",{children:"It is imperative that the user understands how to use the app and accepts liability for its use. The author accepts no liability for loss or damage resulting from the use of this app."}),Object(d.jsxs)("p",{children:['Please make sure you understand, set and appropriately adjust your "',Object(d.jsx)("b",{children:"Default blood glucose correction per unit"}),'" and "',Object(d.jsx)("b",{children:"Default carbs per unit"}),'" amounts in the settings panel before using this app.']}),Object(d.jsxs)("p",{children:["The bolus insulin calculator ",Object(d.jsx)("b",{children:"DOES NOT"})," take into account rising and falling of your blood glucose over time. You ",Object(d.jsx)("b",{children:"MUST"})," adjust your units manually."]}),Object(d.jsxs)("p",{children:["It is advised to start with the correct ",Object(d.jsx)("b",{children:"BASAL"})," insulin first. To do this you should eat a no carb evening meal or fast on your evening meal. Adjust you basal insulin until your blood glucose is flat over night. Make sure to do this when you are not ill, stressed or doing abnormal amounts of exercise, you need a baseline basal that you can adjust later."]}),Object(d.jsx)("p",{children:"Once your basal insulin dose is correct, you can change you default carbohydrates per unit and default blood glucose correction per unit to best suit meal times and corrections. A bigger carbs per unit and blood glucose per unit value will mean less insulin, a smaller value will mean more insulin."})]})]})},Pe=function(){var e=Object(A.b)(),t=Object(A.c)((function(e){return e.settings}));return Object(i.useEffect)((function(){e(E("About"))})),Object(d.jsx)("section",{className:"proportionatecarbs screen__container",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"This is a product demo for an upcoming app. Please do not share the link unless given express permission from the author."}),Object(d.jsxs)("p",{children:["Author: ",Object(d.jsx)("a",{href:"https://oliverfoster.co.uk/about",target:"_blank",children:"Oliver Foster"}),Object(d.jsx)("br",{}),"Version: ",t.version,Object(d.jsx)("br",{}),"Update available: ",Boolean(t.needsUpdating)?"Yes":"No"]}),Object(d.jsxs)("p",{children:["Leave feedback or requests using the form at ",Object(d.jsx)("a",{href:"https://oliverfoster.co.uk/contact",target:"_blank",children:"oliverfoster.co.uk/contact"}),". Make sure to say that your message is regarding the ",Object(d.jsx)("b",{children:"diabetes calculator"}),"."]}),Object(d.jsxs)("p",{children:["Copyright \xa9 2021, Oliver Foster",Object(d.jsx)("br",{})]})]})})},we=n(181),Ae=n(182),Be=n(126),We=n(197),ke=n(188),Ne=n(165),Ie=n(189),Se=n(190),Fe=n(191),Re=n(183),Le=n(184),Ee=n(185),De=n(186),Me=n(187),Ke=n(192),He=n(25),qe="auto",Je=Object(Z.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer-1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginLeft:-20,marginRight:20},hide:{display:"none"},drawer:{width:qe,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:qe,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(0)+1},toolbar:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));var Ye=Object(h.g)((function(e){var t=e.history;return Object(i.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[]),null}));var Ge=function(){var e,t,n=Object(A.b)(),s=Object(A.c)((function(e){return e.view})),a=Object(A.c)((function(e){return e.settings})),c=p[a.lang],j=Je(),O=Object(He.a)(),g=r.a.useState(!1),m=Object(b.a)(g,2),f=m[0],v=m[1],_=function(){v(!1)};return Object(i.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./manifest.json");case 2:return t=e.sent,e.next=5,t.json();case 5:i=e.sent,console.log("Installed: ".concat(a.version,", Manifest: ").concat(i.version)),n(U({needsUpdating:i.version!==a.version}));case 8:case"end":return e.stop()}}),e)})))()})),Object(d.jsxs)(x.a,{children:[Object(d.jsx)(Ye,{}),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(we.a,{position:"fixed",className:Object(w.a)(j.appBar,Object(o.a)({},j.appBarShift,f)),children:Object(d.jsxs)(Ae.a,{children:[Object(d.jsxs)(B.a,{variant:"h6",noWrap:!0,children:[Object(d.jsx)(h.b,{path:"/insulinunits",children:Object(d.jsx)(Re.a,{})}),Object(d.jsx)(h.b,{path:"/proportionatecarbs",children:Object(d.jsx)(se.a,{})}),Object(d.jsx)(h.b,{path:"/settings",children:Object(d.jsx)(le.a,{})}),Object(d.jsx)(h.b,{path:"/warning",children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(h.b,{path:"/about",children:Object(d.jsx)(Le.a,{})}),"\xa0",s.title]}),Object(d.jsx)(Be.a,{color:"inherit","aria-label":"open drawer",onClick:function(){v(!0)},edge:"start",className:Object(w.a)(j.menuButton,Object(o.a)({},j.hide,f)),children:Object(d.jsx)(Ee.a,{})})]})}),Object(d.jsxs)(We.a,{variant:"permanent",className:Object(w.a)(j.drawer,(e={},Object(o.a)(e,j.drawerOpen,f),Object(o.a)(e,j.drawerClose,!f),e)),classes:{paper:Object(w.a)((t={},Object(o.a)(t,j.drawerOpen,f),Object(o.a)(t,j.drawerClose,!f),t))},children:[Object(d.jsx)("div",{className:j.toolbar,children:Object(d.jsx)(Be.a,{onClick:_,children:"rtl"===O.direction?Object(d.jsx)(De.a,{}):Object(d.jsx)(Me.a,{})})}),Object(d.jsx)(ke.a,{}),Object(d.jsxs)(Ne.a,{children:[Object(d.jsxs)(Ie.a,{button:!0,component:x.b,to:"/insulinunits",onClick:_,children:[Object(d.jsx)(Se.a,{children:Object(d.jsx)(Re.a,{})}),Object(d.jsx)(Fe.a,{primary:c.insulinUnitsTitle})]},"Insulin"),Object(d.jsxs)(Ie.a,{button:!0,component:x.b,to:"/proportionatecarbs",onClick:_,children:[Object(d.jsx)(Se.a,{children:Object(d.jsx)(se.a,{})}),Object(d.jsx)(Fe.a,{primary:c.proportionateCarbsTitle})]},"Carbs")]}),Object(d.jsx)(ke.a,{}),Object(d.jsxs)(Ne.a,{children:[Object(d.jsxs)(Ie.a,{button:!0,component:x.b,to:"/settings",onClick:_,children:[Object(d.jsx)(Se.a,{children:Object(d.jsx)(le.a,{})}),Object(d.jsx)(Fe.a,{primary:"Settings"})]},"Settings"),Object(d.jsxs)(Ie.a,{button:!0,component:x.b,to:"/warning",onClick:_,children:[Object(d.jsx)(Se.a,{children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(Fe.a,{primary:"Warning"})]},"Warning"),Object(d.jsxs)(Ie.a,{button:!0,disabled:!a.needsUpdating,onClick:function(){window.serviceWorkerRegistration.active.postMessage("update")},children:[Object(d.jsx)(Se.a,{children:Object(d.jsx)(Ke.a,{})}),Object(d.jsx)(Fe.a,{primary:"Update"})]},"Update"),Object(d.jsxs)(Ie.a,{button:!0,component:x.b,to:"/about",onClick:_,children:[Object(d.jsx)(Se.a,{children:Object(d.jsx)(Le.a,{})}),Object(d.jsx)(Fe.a,{primary:"About"})]},"About")]})]}),Object(d.jsxs)("main",{className:j.content,children:[Object(d.jsx)("div",{className:j.toolbar}),Object(d.jsxs)(h.d,{children:[Object(d.jsx)(h.b,{path:"/insulinunits",children:Object(d.jsx)(be,{})}),Object(d.jsx)(h.b,{path:"/proportionatecarbs",children:Object(d.jsx)(Ce,{})}),Object(d.jsx)(h.b,{path:"/settings",children:Object(d.jsx)(ye,{})}),Object(d.jsx)(h.b,{path:"/warning",children:Object(d.jsx)(Ue,{})}),Object(d.jsx)(h.b,{path:"/about",children:Object(d.jsx)(Pe,{})}),Object(d.jsx)(h.a,{to:"/insulinunits"})]})]})]})]})},ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,203)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),s(e),a(e)}))},Ve=Object(O.a)({reducer:{view:D,settings:P,insulinUnits:q,proportionateCarbs:xe}});"serviceWorker"in navigator&&window.addEventListener("load",Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register("./serviceWorker.js");case 3:t=e.sent,console.log("Service worker registered! \ud83d\ude0e",t),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log("\ud83d\ude25 Service worker registration failed: ",e.t0),e.abrupt("return");case 11:navigator.serviceWorker.addEventListener("message",(function(e){switch(console.log("The service worker sent me a message: ".concat(e.data)),e.data){case"refresh":return void window.location.reload();default:return}})),navigator.serviceWorker.ready.then((function(e){window.serviceWorkerRegistration=e,e.active.postMessage("hi")}));case 13:case"end":return e.stop()}}),e,null,[[0,7]])})))),a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(A.a,{store:Ve,children:Object(d.jsx)(Ge,{})})}),document.getElementById("root")),ze()}},[[124,1,2]]]);
//# sourceMappingURL=main.23050448.chunk.js.map