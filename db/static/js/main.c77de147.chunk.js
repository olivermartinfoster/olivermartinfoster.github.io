(this.webpackJsonpcalculator=this.webpackJsonpcalculator||[]).push([[0],{107:function(e,t,n){},109:function(e,t,n){},121:function(e,t){},124:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),a=n(12),r=n.n(a),o=(n(107),n(21)),c=n(26),l=n.n(c),u=n(70),b=n(10),j=n(37),d=(n(109),n(1)),h={en:{insulinUnitsTitle:"Food insulin (bolus)",proportionateCarbsTitle:"Carbs by meal weight",proportionateCarbsCarbRatioTitle:"Carb ratio",proportionateCarbsAddButtonText:"Add to eaten carbs",proportionateCarbsCarbsPerWeightLabelText:"Carbs",proportionateCarbsCarbsPerWeightInfoText:"",proportionateCarbsColumnWeightLabelText:"Per weight",proportionateCarbsColumnWeightInfoText:"",proportionateCarbsAmountConsumedTitle:"Amount eaten",proportionateCarbsTotalWeightLabelText:"Total weight",proportionateCarbsTotalWeightInfoText:"",proportionateCarbsPortionRatioLabelText:"Portion",proportionateCarbsPortionRatioInfoText:"",insulinUnitsAddProportionateCarbsButtonText:"Add carbs by meal weight",insulinUnitsConsumedCarbsLabelText:"Eaten carbs",insulinUnitsConsumedCarbsInfoText:Object(d.jsxs)("div",{children:["You can add together the number of carbs you've eaten here, 14+(16x4).",Object(d.jsx)("p",{children:"If you click the 'Add carbs by meal weight' button, you will be take to the 'Carbs by meal weight' calculator."})]}),insulinUnitsCurrentBgLabelText:"Current glucose",insulinUnitsCurrentBgInfoText:"",insulinUnitsUnitAdjustmentPercentageLabelText:"Insulin efficiency adjustment",insulinUnitsUnitAdjustmentPercentageInfoText:Object(d.jsxs)("div",{children:["You can reduce the efficacy of your insulin with stress/illness or by sitting down a lot and you can increase your insulin efficacy by exercising more than usual.",Object(d.jsx)("p",{children:"Example: +20 for stress/illness/sitting, -20 for lots of exercise, -10 for mild exercise."})]}),insulinUnitsPersonalisedSettingsButtonText:"Personalised settings",insulinUnitsTargetBgLabelText:"Target glucose",insulinUnitsTargetBgInfoText:"",insulinUnitsCarbsPerUnitLabelText:"Carbs per unit",insulinUnitsCarbsPerUnitInfoText:Object(d.jsxs)("div",{children:["How many carbs do you need, per insulin unit, to correct your blood glucose?",Object(d.jsx)("p",{children:"Bigger amounts mean less insulin, as you can eat/drink more carbs per unit. Smaller amounts mean more insulin as you can eat/drink fewer carbs per unit."})]}),insulinUnitsBgPerUnitLabelText:"Glucose correction per unit",insulinUnitsBgPerUnitInfoText:Object(d.jsxs)("div",{children:["How many mmol/l would your blood glucose reading drop for 1 unit of insulin?",Object(d.jsx)("p",{children:"Bigger amounts mean less insulin as 1 unit will move your sugar by a larger degree. Smaller amounts mean more insulin."})]}),settingsInsulinUnitsTitle:"Food insulin (bolus)",settingsDefaultCurrentBgLabelText:"Default current glucose",settingsDefaultCurrentBgInfoText:"The default value should match your 'Default target glucose'.",settingsDefaultUnitAdjustmentPercentageLabelText:"Default insulin efficiency adjustment",settingsDefaultUnitAdjustmentPercentageInfoText:Object(d.jsxs)("div",{children:["You can reduce the efficacy of your insulin with stress/illness or by sitting down a lot and your can increase you insulin efficacy by exercising more than usual.",Object(d.jsx)("p",{children:"Example: +20 for stress/illness/sitting, -20 for exercise."})]}),settingsDefaultTargetBgLabelText:"Default target glucose",settingsDefaultTargetBgInfoText:"",settingsDefaultCarbsPerUnitLabelText:"Default carbs per unit",settingsDefaultCarbsPerUnitInfoText:Object(d.jsxs)("div",{children:["How many carbs do you need, per insulin unit, to correct your blood glucose?",Object(d.jsx)("p",{children:"Bigger amounts mean less insulin, as you can eat/drink more carbs per unit. Smaller amounts mean more insulin as you can eat/drink fewer carbs per unit."})]}),settingsDefaultBgPerUnitLabelText:"Default glucose correction per unit",settingsDefaultBgPerUnitInfoText:Object(d.jsxs)("div",{children:["How many mmol/l would your blood glucose reading drop for 1 unit of insulin?",Object(d.jsx)("p",{children:"Bigger amounts mean less insulin as 1 unit will move your sugar by a larger degree. Smaller amounts mean more insulin."})]}),settingsCarbsPerMealWeightTitle:"Carbs per meal weight",settingsDefaultColumnWeightLabelText:"Default per weight",settingsDefaultColumnWeightInfoText:"",settingsDefaultTotalPacketWeightLabelText:"Default total weight",settingsDefaultTotalPacketWeightInfoText:"",settingsDefaultPortionRatioLabelText:"Default portion",settingsDefaultPortionRatioInfoText:"",settingsRoundingTitle:"Rounding",settingsDefaultMinimumCarbsLabelText:"Minimum carbs",settingsDefaultMinimumCarbsInfoText:"Carbs will be rounded to this value.",settingsDefaultMinimumUnitsLabelText:"Minimum units",settingsDefaultMinimumUnitsInfoText:"Units will be rounded to this value.",warningTitle:"WARNING:",warningBody:Object(d.jsxs)(s.a.Fragment,{children:["This app is to be used only as an ",Object(d.jsx)("b",{children:"indication"})," of dosage amounts.",Object(d.jsx)("p",{children:"It is imperative that the user understands how to use the app and accepts liability for its use. The author accepts no liability for loss or damage resulting from the use of this app."}),Object(d.jsxs)("p",{children:['Please make sure you understand, set and appropriately adjust your "',Object(d.jsx)("b",{children:"Default glucose correction per unit"}),'" and "',Object(d.jsx)("b",{children:"Default carbs per unit"}),'" amounts in the settings panel before using this app.']}),Object(d.jsxs)("p",{children:["The bolus insulin calculator ",Object(d.jsx)("b",{children:"DOES NOT"})," take into account rising and falling of your blood glucose over time, as it is not connected to your blood glucose meter. You ",Object(d.jsx)("b",{children:"MUST"})," adjust your units manually."]}),Object(d.jsxs)("p",{children:["It is advised to start with the correct ",Object(d.jsx)("b",{children:"BASAL"})," insulin first. This could take you more than one day. To do this you should eat a no-carb evening meal or fast on your evening meal. Adjust your basal insulin until your blood glucose is flat over night, which you will see/monitor in the mornings. Make sure to do this when you are not ill, stressed, eating/drinking irregularly or doing abnormal amounts of exercise, you need a baseline basal that you can adjust later."]}),Object(d.jsxs)("p",{children:["Once your basal insulin dose is correct, you can change your ",Object(d.jsx)("i",{children:"default carbohydrates per unit"})," and ",Object(d.jsx)("i",{children:"default glucose correction per unit"})," to best suit your own meal times and corrections. A bigger ",Object(d.jsx)("i",{children:"carbs per unit"})," and ",Object(d.jsx)("i",{children:"glucose per unit"})," value will mean less insulin, a smaller value will mean more insulin."]})]}),aboutBody:Object(d.jsx)(s.a.Fragment,{children:"Need some way of importing settings version here"})}},x=n(15),g=n(34),p=n(36);function O(e){if(!e)return e;var t={};for(var n in e)n.startsWith("ui_")||(t[n]=e[n],t["ui_".concat(n)]=e[n]);return t}var m,f=O({version:"0.0.14",needsUpdating:!1,consumedCarbs:0,currentBg:5,minimumUnits:.1,carbsPerUnit:0,bgPerUnit:0,targetBg:5,unitAdjustmentPercentage:0,carbsPerColumnWeight:0,columnWeight:100,totalPacketWeight:100,portionRatio:1,minimumCarbs:.1,lang:"en"}),v=(m=O(JSON.parse(localStorage.getItem("settings")||"null"))||{},Object(j.a)(Object(j.a)({},m),{},{version:null}));for(var C in f){var _;v[C]=null!==(_=null===v||void 0===v?void 0:v[C])&&void 0!==_?_:f[C]}var y={view:{title:""},settings:v,insulinUnits:{consumedCarbs:null,currentBg:null,unitAdjustmentPercentage:null,minimumUnits:null,carbsPerUnit:null,bgPerUnit:null,targetBg:null,ui_consumedCarbs:null,ui_currentBg:null,ui_unitAdjustmentPercentage:null,ui_minimumUnits:null,ui_carbsPerUnit:null,ui_bgPerUnit:null,ui_targetBg:null,ui_unitAdjustmentRatio:0,bgDistance:0,bgUnits:0,carbUnits:0,totalUnits:0,adjustedTotalUnits:0,roundedAdjustedTotalUnits:0},proportionateCarbs:{carbsPerColumnWeight:null,columnWeight:null,totalPacketWeight:null,portionRatio:null,minimumCarbs:null,ui_carbsPerColumnWeight:null,ui_columnWeight:null,ui_totalPacketWeight:null,ui_portionRatio:null,ui_minimumCarbs:null,carbRatio:0,totalPacketCarbs:0,consumedCarbs:0,roundedConsumedCarbs:0}},T=Object(p.b)({name:"settings",initialState:y.settings,reducers:{allSettingsChanged:function(e,t){Object.assign(e,t.payload),localStorage.setItem("settings",JSON.stringify(e,null,2))}}}),U=T.actions.allSettingsChanged,P=T.reducer,w=n(4),B=n(13),I=n(65),k=n(161),W=n(198),A=n(167),N=n(199),D=n(172),F=n(175),S=n(196),L=Object(p.b)({name:"view",initialState:y.view,reducers:{titleChanged:function(e,t){e.title=t.payload}}}),R=L.actions.titleChanged,M=L.reducer;function K(e,t){e=Math.round(e/t)*t;var n=String(e);if(n.includes(".")){var i=String(t),s=i.slice(i.indexOf(".")+1),a=n.slice(0,n.indexOf(".")+1+s.length);return parseFloat(a)}return e}var E=Object(p.b)({name:"insulinUnits",initialState:y.insulinUnits,reducers:{allInsulinUnitsChanged:function(e,t){!function(e,t){Object.assign(e,t);var n=e.consumedCarbs,i=e.currentBg,s=e.unitAdjustmentPercentage,a=e.targetBg,r=e.carbsPerUnit,o=e.bgPerUnit,c=1+s/100,l=i-a,u=o?l/o:0,b=r?n/r:0,j=u+b,d=j*c,h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e<t?t:e}(K(d,e.minimumUnits));Object.assign(e,{unitAdjustmentRatio:c,bgDistance:l,bgUnits:u,carbUnits:b,totalUnits:j,adjustedTotalUnits:d,roundedAdjustedTotalUnits:h})}(e,t.payload)}}}),H=E.actions.allInsulinUnitsChanged,q=E.reducer,Y=n(193);function J(e){return e=(e=String(e)).replace(/x/i,"*"),Object(Y.a)(e)}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=Object(j.a)({},e),n=Object(j.a)({},n);var i={};for(var s in n)try{n[s]=s.startsWith("ui_")?n[s]:J(n[s])}catch(b){delete n[s]}for(var a in n){var r=a.startsWith("ui_")?a.slice(3):a;n[a]===t[r]&&(n[a]=null,e[a]=null,i[a]=null)}for(var o in e){var c,l,u=o.startsWith("ui_")?o.slice(3):o;i[o]=null!==(c=null!==(l=n[o])&&void 0!==l?l:e[o])&&void 0!==c?c:t[u]}return i}function z(e,t){e=Object(j.a)({},e);var n={};for(var i in e)if(i.startsWith("ui_")){var s=i.slice(3);n[i]=t[s],n[s]=t[s]}var a={};for(var r in n)try{n[r]=r.startsWith("ui_")?n[r]:J(n[r])}catch(h){delete n[r]}for(var o in n){var c=o.startsWith("ui_")?o.slice(3):o;n[o]===t[c]&&(n[o]=null,e[o]=null,a[o]=null)}for(var l in e){var u,b,d=l.startsWith("ui_")?l.slice(3):l;a[l]=null!==(u=null!==(b=n[l])&&void 0!==b?b:e[l])&&void 0!==u?u:t[d]}return a}function V(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.noui;return function(e,t){t.target.select()}}function X(e,t,n,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=s.noui,r=void 0!==a&&a;return function(s,a){var c=a.target.value;try{var l;n(i(G(e,t,r?Object(o.a)({},s,c||t[s]):(l={},Object(o.a)(l,s,c||t[s]),Object(o.a)(l,"ui_".concat(s),c),l))))}catch(u){}}}function Q(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i.noui,a=void 0!==s&&s;return function(i,s){var r;""===s.target.value&&t(n(a?Object(o.a)({},i,e[i]):(r={},Object(o.a)(r,i,e[i]),Object(o.a)(r,"ui_".concat(i),e[i]),r)))}}var Z=n(157),$={paddingBottom:"1em"},ee={marginTop:"0em",width:"100%"},te={addCarbs:{display:"inline-flex",padding:"6px 0px",minWidth:"32px"},outputContainer:$,topButton:ee},ne=(Object(Z.a)(te),n(162)),ie=n(166),se=n(168),ae=n(169),re=n(170),oe=n(171),ce=n(173),le=n(174),ue=void 0,be=function(){var e=Object(B.c)((function(e){return e.insulinUnits})),t=Object(B.c)((function(e){return e.settings})),n=h[t.lang],a=G(e,t),r=Object(B.b)(),o=function(e){13===e.keyCode&&e.target.blur()},c=function(e,t,n){return(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).noui,function(e,t){var n=t.target.value;if("0"!==n){if(t.target.setSelectionRange){var i=2*t.target.value.length;setTimeout((function(){t.target.setSelectionRange(i,i)}),0)}else t.target.value="",t.target.value=n;t.target.scrollTop=99999}else t.target.select()}}(),l=V(),u=X(e,t,r,H),j=Q(t,r,H);Object(i.useEffect)((function(){r(R(n.insulinUnitsTitle))}));var x=Object(i.useState)(!1),p=Object(b.a)(x,2),O=p[0],m=p[1],f=Object(i.useState)(!1),v=Object(b.a)(f,2),C=v[0],_=v[1],y=Object(i.useState)(!1),T=Object(b.a)(y,2),U=T[0],P=T[1],w=Object(i.useState)(!1),L=Object(b.a)(w,2),M=L[0],K=L[1],E=Object(i.useState)(!1),q=Object(b.a)(E,2),Y=q[0],J=q[1],Z=Object(i.useState)(!1),te=Object(b.a)(Z,2),be=te[0],je=te[1];return Object(d.jsx)(s.a.Fragment,{children:Object(d.jsxs)("section",{className:"insulinunits screen__container",children:[Object(d.jsx)("div",{className:"insulinunits__output",style:$,children:Object(d.jsxs)(I.a,{variant:"h2",noWrap:!0,children:[e.roundedAdjustedTotalUnits||0,"units"]})}),Object(d.jsx)("div",{className:"insulinunits__button__reset",children:Object(d.jsxs)(k.a,{className:"button",style:ee,onClick:function(){r(H(z(e,t)))},children:[Object(d.jsx)(ne.a,{}),"\xa0Reset"]})}),Object(d.jsxs)("div",{className:"insulinunits_input input__group",children:[Object(d.jsx)("div",{className:"insulinunits__input__consumedcarbs input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[n.insulinUnitsConsumedCarbsLabelText,n.insulinUnitsConsumedCarbsInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return m(!O)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:O?"flex":"none"},onClose:function(){return m(!1)},children:n.insulinUnitsConsumedCarbsInfoText})]})]}),onKeyUp:o,onFocus:c.bind(ue,"consumedCarbs"),onChange:u.bind(ue,"consumedCarbs"),onBlur:j.bind(ue,"consumedCarbs"),value:a.ui_consumedCarbs,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(se.a,{})}),endAdornment:Object(d.jsxs)(A.a,{position:"end",children:[e.consumedCarbs||0,"g"]})}})}),Object(d.jsx)("div",{className:"insulinunits__button__addproportionatecarbs",children:Object(d.jsxs)(k.a,{className:"button",style:ee,component:g.b,to:"/proportionatecarbs",children:[Object(d.jsx)(ae.a,{}),"\xa0",n.insulinUnitsAddProportionateCarbsButtonText]})}),Object(d.jsx)("div",{className:"insulinunits__input__currentbg input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[n.insulinUnitsCurrentBgLabelText,n.insulinUnitsCurrentBgInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return _(!C)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:C?"flex":"none"},onClose:function(){return _(!1)},children:n.insulinUnitsCurrentBgInfoText})]})]}),onKeyUp:o,onFocus:l.bind(ue,"currentBg"),onChange:u.bind(ue,"currentBg"),onBlur:j.bind(ue,"currentBg"),value:a.ui_currentBg,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(re.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"mmol/l"})}})}),Object(d.jsx)("div",{className:"insulinunits__input__unitadjustmentpercentage input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[n.insulinUnitsUnitAdjustmentPercentageLabelText,n.insulinUnitsUnitAdjustmentPercentageInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return P(!U)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:U?"flex":"none"},onClose:function(){return P(!1)},children:n.insulinUnitsUnitAdjustmentPercentageInfoText})]})]}),onKeyUp:o,onFocus:l.bind(ue,"unitAdjustmentPercentage"),onChange:u.bind(ue,"unitAdjustmentPercentage"),onBlur:j.bind(ue,"unitAdjustmentPercentage"),value:a.ui_unitAdjustmentPercentage,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(oe.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"%"})}})}),Object(d.jsxs)(N.a,{children:[Object(d.jsxs)(D.a,{expandIcon:Object(d.jsx)(ce.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:[Object(d.jsx)(le.a,{}),"\xa0",n.insulinUnitsPersonalisedSettingsButtonText]}),Object(d.jsxs)(F.a,{children:[Object(d.jsx)("div",{className:"insulinunits__input__targetbg input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[n.insulinUnitsTargetBgLabelText,n.insulinUnitsTargetBgInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return K(!M)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:M?"flex":"none"},onClose:function(){return K(!1)},children:n.insulinUnitsTargetBgInfoText})]})]}),onKeyUp:o,onFocus:l.bind(ue,"targetBg"),onChange:u.bind(ue,"targetBg"),onBlur:j.bind(ue,"targetBg"),value:a.ui_targetBg,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"mmol/l"})}})}),Object(d.jsx)("div",{className:"insulinunits__input__carbsperunit input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[n.insulinUnitsCarbsPerUnitLabelText,n.insulinUnitsCarbsPerUnitInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return J(!Y)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:Y?"flex":"none"},onClose:function(){return J(!1)},children:n.insulinUnitsCarbsPerUnitInfoText})]})]}),onKeyUp:o,onFocus:l.bind(ue,"carbsPerUnit"),onChange:u.bind(ue,"carbsPerUnit"),onBlur:j.bind(ue,"carbsPerUnit"),value:a.ui_carbsPerUnit,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"g"})}})}),Object(d.jsx)("div",{className:"insulinunits__input__bgperunit input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[n.insulinUnitsBgPerUnitLabelText,n.insulinUnitsBgPerUnitInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return je(!be)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:be?"flex":"none"},onClose:function(){return je(!1)},children:n.insulinUnitsBgPerUnitInfoText})]})]}),onKeyUp:o,onFocus:l.bind(ue,"bgPerUnit"),onChange:u.bind(ue,"bgPerUnit"),onBlur:j.bind(ue,"bgPerUnit"),value:a.ui_bgPerUnit,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"mmol/l"})}})})]})]})]})]})})},je=n(201),de=n(194),he=Object(p.b)({name:"proportionateCarbs",initialState:y.proportionateCarbs,reducers:{allProportionateCarbsChanged:function(e,t){!function(e,t){Object.assign(e,t);var n=e.carbsPerColumnWeight,i=e.columnWeight,s=i?n/i:0,a=s*e.totalPacketWeight,r=a*e.portionRatio,o=K(r,e.minimumCarbs);Object.assign(e,{carbRatio:s,totalPacketCarbs:a,consumedCarbs:r,roundedConsumedCarbs:o})}(e,t.payload)}}}),xe=he.actions.allProportionateCarbsChanged,ge=he.reducer,pe=n(176),Oe=n(177),me=n(178),fe=n(179),ve=n(180),Ce=void 0,_e=function(){var e=Object(B.c)((function(e){return e.insulinUnits})),t=Object(B.c)((function(e){return e.proportionateCarbs})),n=Object(B.c)((function(e){return e.settings})),a=h[n.lang],r=G(t,n),o=Object(B.b)(),c=function(e){13===e.keyCode&&e.target.blur()},l=V(),u=X(t,n,o,xe),j=Q(n,o,xe);Object(i.useEffect)((function(){o(R(a.proportionateCarbsTitle))}));var x=Object(i.useState)(!1),p=Object(b.a)(x,2),O=p[0],m=p[1],f=Object(i.useState)(!1),v=Object(b.a)(f,2),C=v[0],_=v[1],y=Object(i.useState)(!1),T=Object(b.a)(y,2),U=T[0],P=T[1],w=Object(i.useState)(!1),N=Object(b.a)(w,2),D=N[0],F=N[1];return Object(d.jsxs)("section",{className:"proportionatecarbs screen__container",children:[Object(d.jsx)("div",{className:"proportionatecarbs__output",style:$,children:Object(d.jsxs)(I.a,{variant:"h2",noWrap:!0,children:[t.roundedConsumedCarbs||0,"g"]})}),Object(d.jsx)("div",{className:"proportionatecarbs__button__reset",children:Object(d.jsxs)(k.a,{className:"button",style:ee,onClick:function(){o(xe(z(t,n)))},children:[Object(d.jsx)(ne.a,{}),"\xa0Reset"]})}),Object(d.jsx)(I.a,{className:"section__divider",variant:"h6",noWrap:!0,children:a.proportionateCarbsCarbRatioTitle}),Object(d.jsxs)("div",{className:"proportionatecarbs_input input__group",children:[Object(d.jsxs)("div",{className:"proportionatecarbs__input__carbsperweight__container",children:[Object(d.jsx)("div",{className:"proportionatecarbs__input__carbspercolumnweight input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[a.proportionateCarbsCarbsPerWeightLabelText,a.proportionateCarbsCarbsPerWeightInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return m(!O)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:O?"flex":"none"},onClose:function(){return m(!1)},children:a.proportionateCarbsCarbsPerWeightInfoText})]})]}),onKeyUp:c,onFocus:l.bind(Ce,"carbsPerColumnWeight"),onChange:u.bind(Ce,"carbsPerColumnWeight"),onBlur:j.bind(Ce,"carbsPerColumnWeight"),value:r.ui_carbsPerColumnWeight,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(pe.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"g"})}})}),Object(d.jsx)("div",{className:"proportionatecarbs__input__columnweight input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[a.proportionateCarbsColumnWeightLabelText,a.proportionateCarbsColumnWeightInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return _(!C)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:C?"flex":"none"},onClose:function(){return _(!1)},children:a.proportionateCarbsColumnWeightInfoText})]})]}),onKeyUp:c,onFocus:l.bind(Ce,"columnWeight"),onChange:u.bind(Ce,"columnWeight"),onBlur:j.bind(Ce,"columnWeight"),value:r.ui_columnWeight,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(Oe.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"g"})}})})]}),Object(d.jsx)(I.a,{className:"section__divider",variant:"h6",noWrap:!0,children:a.proportionateCarbsAmountConsumedTitle}),Object(d.jsxs)("div",{className:"proportionatecarbs__input__amountconsumed__container",children:[Object(d.jsx)("div",{className:"proportionatecarbs__input__totalpacketweight input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[a.proportionateCarbsTotalWeightLabelText,a.proportionateCarbsTotalWeightInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return P(!U)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:U?"flex":"none"},onClose:function(){return P(!1)},children:a.proportionateCarbsTotalWeightInfoText})]})]}),onKeyUp:c,onFocus:l.bind(Ce,"totalPacketWeight"),onChange:u.bind(Ce,"totalPacketWeight"),onBlur:j.bind(Ce,"totalPacketWeight"),value:r.ui_totalPacketWeight,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(me.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"g"})}})}),Object(d.jsxs)("div",{className:"proportionatecarbs__input__portionratio input__container",children:[Object(d.jsx)(je.a,{htmlFor:"portionratio",children:a.proportionateCarbsPortionRatioLabelText}),Object(d.jsx)("div",{className:"select__container",children:Object(d.jsxs)(de.a,{native:!0,value:r.ui_portionRatio,onChange:u.bind(Ce,"portionRatio"),onBlur:j.bind(Ce,"portionRatio"),label:Object(d.jsxs)("div",{children:[a.proportionateCarbsPortionRatioLabelText,a.proportionateCarbsPortionRatioInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return F(!D)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:D?"flex":"none"},onClose:function(){return F(!1)},children:a.proportionateCarbsPortionRatioInfoText})]})]}),inputProps:{name:"portionratio",id:"portionratio"},startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(fe.a,{})}),children:[Object(d.jsx)("option",{"aria-label":"None",value:1,children:"Whole"}),Object(d.jsx)("option",{value:.5,children:"1/2 Half"}),Object(d.jsx)("option",{value:1/3,children:"1/3 One third"}),Object(d.jsx)("option",{value:1/4,children:"1/4 One quarter"}),Object(d.jsx)("option",{value:.2,children:"1/5 One fifth"}),Object(d.jsx)("option",{value:1/6,children:"1/6 One sixth"}),Object(d.jsx)("option",{value:1/8,children:"1/8 One eighth"}),Object(d.jsx)("option",{value:2,children:"2 Two"}),Object(d.jsx)("option",{value:2/3,children:"2/3 Two thirds"}),Object(d.jsx)("option",{value:.4,children:"2/5 Two fifths"}),Object(d.jsx)("option",{value:3,children:"3 Three"}),Object(d.jsx)("option",{value:.6,children:"3/5 Three fifths"}),Object(d.jsx)("option",{value:3/4,children:"3/4 Three quarters"}),Object(d.jsx)("option",{value:4,children:"4 Four"}),Object(d.jsx)("option",{value:.8,children:"4/5 Four fifths"}),Object(d.jsx)("option",{value:5,children:"5 Five"}),Object(d.jsx)("option",{value:5/6,children:"5/6 Five sixths"})]})})]})]})]}),Object(d.jsx)("div",{className:"proportionatecarbs__button__addtoinsulin",children:Object(d.jsxs)(k.a,{className:"button",style:ee,component:g.b,to:"/insulinunits",onClick:function(){var i=t.roundedConsumedCarbs||0;if(i){var s=parseFloat(e.ui_consumedCarbs)?"".concat(e.ui_consumedCarbs,"+").concat(i):"".concat(i);o(H(G(e,n,{consumedCarbs:s,ui_consumedCarbs:s})))}},children:[Object(d.jsx)(ve.a,{}),"\xa0",a.proportionateCarbsAddButtonText]})})]})},ye=void 0,Te=function(){var e=Object(B.c)((function(e){return e.settings})),t=h[e.lang],n=Object(B.b)(),a=function(e){13===e.keyCode&&e.target.blur()},r=V(),o=X(e,f,n,U,{noui:!1}),c=Q(f,n,U,{noui:!1});Object(i.useEffect)((function(){n(R("Settings"))}));var l=Object(i.useState)(!1),u=Object(b.a)(l,2),j=u[0],x=u[1],g=Object(i.useState)(!1),p=Object(b.a)(g,2),O=p[0],m=p[1],v=Object(i.useState)(!1),C=Object(b.a)(v,2),_=C[0],y=C[1],T=Object(i.useState)(!1),P=Object(b.a)(T,2),w=P[0],N=P[1],D=Object(i.useState)(!1),F=Object(b.a)(D,2),L=F[0],M=F[1],K=Object(i.useState)(!1),E=Object(b.a)(K,2),H=E[0],q=E[1],Y=Object(i.useState)(!1),J=Object(b.a)(Y,2),G=J[0],z=J[1],Z=Object(i.useState)(!1),$=Object(b.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)(!1),se=Object(b.a)(ne,2),ae=se[0],ce=se[1],ue=Object(i.useState)(!1),be=Object(b.a)(ue,2),he=be[0],xe=be[1];return Object(d.jsx)("section",{className:"settings screen__container",children:Object(d.jsxs)("div",{className:"settings_input input__group",children:[Object(d.jsx)(I.a,{className:"section__divider",variant:"h6",noWrap:!0,children:t.settingsInsulinUnitsTitle}),Object(d.jsx)("div",{className:"settings__input__currentbg input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[t.settingsDefaultCurrentBgLabelText,t.settingsDefaultCurrentBgInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return x(!j)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:j?"flex":"none"},onClose:function(){return x(!1)},children:t.settingsDefaultCurrentBgInfoText})]})]}),onKeyUp:a,onFocus:r.bind(ye,"currentBg"),onChange:o.bind(ye,"currentBg"),onBlur:c.bind(ye,"currentBg"),value:e.ui_currentBg,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(re.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"mmol/l"})}})}),Object(d.jsx)("div",{className:"settings__input__unitadjustmentpercentage input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[t.settingsDefaultUnitAdjustmentPercentageLabelText,t.settingsDefaultUnitAdjustmentPercentageInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return y(!_)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:_?"flex":"none"},onClose:function(){return y(!1)},children:t.settingsDefaultUnitAdjustmentPercentageInfoText})]})]}),onKeyUp:a,onFocus:r.bind(ye,"unitAdjustmentPercentage"),onChange:o.bind(ye,"unitAdjustmentPercentage"),onBlur:c.bind(ye,"unitAdjustmentPercentage"),value:e.ui_unitAdjustmentPercentage,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(oe.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"%"})}})}),Object(d.jsx)("div",{className:"settings__input__targetbg input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[t.settingsDefaultTargetBgLabelText,t.settingsDefaultTargetBgInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return m(!O)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:O?"flex":"none"},onClose:function(){return m(!1)},children:t.settingsDefaultTargetBgInfoText})]})]}),onKeyUp:a,onFocus:r.bind(ye,"targetBg"),onChange:o.bind(ye,"targetBg"),onBlur:c.bind(ye,"targetBg"),value:e.ui_targetBg,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"mmol/l"})}})}),Object(d.jsx)("div",{className:"settings__input__carbsperunit input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[t.settingsDefaultCarbsPerUnitLabelText,t.settingsDefaultCarbsPerUnitInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return N(!w)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:w?"flex":"none"},onClose:function(){return N(!1)},children:t.settingsDefaultCarbsPerUnitInfoText})]})]}),onKeyUp:a,onFocus:r.bind(ye,"carbsPerUnit"),onChange:o.bind(ye,"carbsPerUnit"),onBlur:c.bind(ye,"carbsPerUnit"),value:e.ui_carbsPerUnit,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"g"})}})}),Object(d.jsx)("div",{className:"settings__input__bgperunit input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[t.settingsDefaultBgPerUnitLabelText,t.settingsDefaultBgPerUnitInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return M(!L)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:L?"flex":"none"},onClose:function(){return M(!1)},children:t.settingsDefaultBgPerUnitInfoText})]})]}),onKeyUp:a,onFocus:r.bind(ye,"bgPerUnit"),onChange:o.bind(ye,"bgPerUnit"),onBlur:c.bind(ye,"bgPerUnit"),value:e.ui_bgPerUnit,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"mmol/l"})}})}),Object(d.jsx)(I.a,{className:"section__divider",variant:"h6",noWrap:!0,children:t.settingsCarbsPerMealWeightTitle}),Object(d.jsx)("div",{className:"settings__input__columnweight input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[t.settingsDefaultColumnWeightLabelText,t.settingsDefaultColumnWeightInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return q(!H)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:H?"flex":"none"},onClose:function(){return q(!1)},children:t.settingsDefaultColumnWeightInfoText})]})]}),onKeyUp:a,onFocus:r.bind(ye,"columnWeight"),onChange:o.bind(ye,"columnWeight"),onBlur:c.bind(ye,"columnWeight"),value:e.ui_columnWeight,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(Oe.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"g"})}})}),Object(d.jsx)("div",{className:"settings__input__totalpacketweight input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[t.settingsDefaultTotalPacketWeightLabelText,t.settingsDefaultTotalPacketWeightInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return z(!G)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:G?"flex":"none"},onClose:function(){return z(!1)},children:t.settingsDefaultTotalPacketWeightInfoText})]})]}),onKeyUp:a,onFocus:r.bind(ye,"totalPacketWeight"),onChange:o.bind(ye,"totalPacketWeight"),onBlur:c.bind(ye,"totalPacketWeight"),value:e.ui_totalPacketWeight,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(me.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"g"})}})}),Object(d.jsxs)("div",{className:"proportionatecarbs__input__portionratio input__container",children:[Object(d.jsx)(je.a,{htmlFor:"portionratio",children:t.settingsDefaultPortionRatioLabelText}),Object(d.jsx)("div",{className:"select__container",children:Object(d.jsxs)(de.a,{native:!0,value:e.ui_portionRatio,onChange:o.bind(ye,"portionRatio"),onBlur:c.bind(ye,"portionRatio"),label:Object(d.jsxs)("div",{children:[t.settingsDefaultPortionRatioLabelText,t.settingsDefaultPortionRatioInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return te(!ee)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:ee?"flex":"none"},onClose:function(){return te(!1)},children:t.settingsDefaultPortionRatioInfoText})]})]}),inputProps:{name:"portionratio",id:"portionratio"},startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(fe.a,{})}),children:[Object(d.jsx)("option",{"aria-label":"None",value:1,children:"Whole"}),Object(d.jsx)("option",{value:.5,children:"1/2 Half"}),Object(d.jsx)("option",{value:1/3,children:"1/3 One third"}),Object(d.jsx)("option",{value:1/4,children:"1/4 One quarter"}),Object(d.jsx)("option",{value:.2,children:"1/5 One fifth"}),Object(d.jsx)("option",{value:1/6,children:"1/6 One sixth"}),Object(d.jsx)("option",{value:1/8,children:"1/8 One eighth"}),Object(d.jsx)("option",{value:2,children:"2 Two"}),Object(d.jsx)("option",{value:2/3,children:"2/3 Two thirds"}),Object(d.jsx)("option",{value:.4,children:"2/5 Two fifths"}),Object(d.jsx)("option",{value:3,children:"3 Three"}),Object(d.jsx)("option",{value:.6,children:"3/5 Three fifths"}),Object(d.jsx)("option",{value:3/4,children:"3/4 Three quarters"}),Object(d.jsx)("option",{value:4,children:"4 Four"}),Object(d.jsx)("option",{value:.8,children:"4/5 Four fifths"}),Object(d.jsx)("option",{value:5,children:"5 Five"}),Object(d.jsx)("option",{value:5/6,children:"5/6 Five sixths"})]})})]}),Object(d.jsx)(I.a,{className:"section__divider",variant:"h6",noWrap:!0,children:t.settingsRoundingTitle}),Object(d.jsx)("div",{className:"settings__input__minimumcarbs input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[t.settingsDefaultMinimumCarbsLabelText,t.settingsDefaultMinimumCarbsInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return ce(!ae)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:ae?"flex":"none"},onClose:function(){return ce(!1)},children:t.settingsDefaultMinimumCarbsInfoText})]})]}),onKeyUp:a,onFocus:r.bind(ye,"minimumCarbs"),onChange:o.bind(ye,"minimumCarbs"),onBlur:c.bind(ye,"minimumCarbs"),value:e.ui_minimumCarbs,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"g"})}})}),Object(d.jsx)("div",{className:"settings__input__minimumunits input__container",children:Object(d.jsx)(W.a,{label:Object(d.jsxs)("div",{children:[t.settingsDefaultMinimumUnitsLabelText,t.settingsDefaultMinimumUnitsInfoText&&Object(d.jsxs)(s.a.Fragment,{children:[Object(d.jsx)(k.a,{className:"btn-info",onClick:function(){return xe(!he)},children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(S.a,{severity:"info",style:{display:he?"flex":"none"},onClose:function(){return xe(!1)},children:t.settingsDefaultMinimumUnitsInfoText})]})]}),onKeyUp:a,onFocus:r.bind(ye,"minimumUnits"),onChange:o.bind(ye,"minimumUnits"),onBlur:c.bind(ye,"minimumUnits"),value:e.ui_minimumUnits,InputProps:{startAdornment:Object(d.jsx)(A.a,{position:"start",children:Object(d.jsx)(le.a,{})}),endAdornment:Object(d.jsx)(A.a,{position:"end",children:"unit"})}})})]})})},Ue=function(){var e=Object(B.c)((function(e){return e.settings})),t=Object(B.b)(),n=h[e.lang];return Object(i.useEffect)((function(){t(R("Warning"))})),Object(d.jsxs)("section",{className:"proportionatecarbs screen__container",children:[Object(d.jsx)(I.a,{variant:"h4",noWrap:!0,children:n.warningTitle}),Object(d.jsx)("div",{children:n.warningBody})]})},Pe=function(){var e=Object(B.b)(),t=Object(B.c)((function(e){return e.settings}));t.lang;return Object(i.useEffect)((function(){e(R("About"))})),Object(d.jsx)("section",{className:"proportionatecarbs screen__container",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"This is a product demo for an upcoming app. Please do not share the link unless given express permission from the author."}),Object(d.jsxs)("p",{children:["Author: ",Object(d.jsx)("a",{href:"https://oliverfoster.co.uk/about",target:"_blank",children:"Oliver Foster"}),Object(d.jsx)("br",{}),"Version: ",t.version,Object(d.jsx)("br",{}),"Update available: ",Boolean(t.needsUpdating)?"Yes":"No"]}),Object(d.jsxs)("p",{children:["Leave feedback or requests using the form at ",Object(d.jsx)("a",{href:"https://oliverfoster.co.uk/contact",target:"_blank",children:"oliverfoster.co.uk/contact"}),". Make sure to say that your message is regarding the ",Object(d.jsx)("b",{children:"diabetes calculator"}),"."]}),Object(d.jsxs)("p",{children:["Copyright \xa9 2021, Oliver Foster",Object(d.jsx)("br",{})]})]})})},we=n(181),Be=n(182),Ie=n(126),ke=n(197),We=n(188),Ae=n(165),Ne=n(189),De=n(190),Fe=n(191),Se=n(183),Le=n(184),Re=n(185),Me=n(186),Ke=n(187),Ee=n(192),He=n(25),qe="auto",Ye=Object(Z.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer-1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginLeft:-20,marginRight:20},hide:{display:"none"},drawer:{width:qe,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:qe,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(0)+1},toolbar:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));var Je=Object(x.g)((function(e){var t=e.history;return Object(i.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[]),null}));var Ge=function(){var e,t,n=Object(B.b)(),a=Object(B.c)((function(e){return e.view})),r=Object(B.c)((function(e){return e.settings})),c=h[r.lang],j=Ye(),p=Object(He.a)(),O=s.a.useState(!1),m=Object(b.a)(O,2),f=m[0],v=m[1],C=function(){v(!1)};return Object(i.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./manifest.json");case 2:return t=e.sent,e.next=5,t.json();case 5:i=e.sent,console.log("Installed: ".concat(r.version,", Manifest: ").concat(i.version)),n(U({needsUpdating:i.version!==r.version}));case 8:case"end":return e.stop()}}),e)})))()})),Object(d.jsxs)(g.a,{children:[Object(d.jsx)(Je,{}),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(we.a,{position:"fixed",className:Object(w.a)(j.appBar,Object(o.a)({},j.appBarShift,f)),children:Object(d.jsxs)(Be.a,{children:[Object(d.jsxs)(I.a,{variant:"h6",noWrap:!0,children:[Object(d.jsx)(x.b,{path:"/insulinunits",children:Object(d.jsx)(Se.a,{})}),Object(d.jsx)(x.b,{path:"/proportionatecarbs",children:Object(d.jsx)(ae.a,{})}),Object(d.jsx)(x.b,{path:"/settings",children:Object(d.jsx)(le.a,{})}),Object(d.jsx)(x.b,{path:"/warning",children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(x.b,{path:"/about",children:Object(d.jsx)(Le.a,{})}),"\xa0",a.title]}),Object(d.jsx)(Ie.a,{color:"inherit","aria-label":"open drawer",onClick:function(){v(!0)},edge:"start",className:Object(w.a)(j.menuButton,Object(o.a)({},j.hide,f)),children:Object(d.jsx)(Re.a,{})})]})}),Object(d.jsxs)(ke.a,{variant:"permanent",className:Object(w.a)(j.drawer,(e={},Object(o.a)(e,j.drawerOpen,f),Object(o.a)(e,j.drawerClose,!f),e)),classes:{paper:Object(w.a)((t={},Object(o.a)(t,j.drawerOpen,f),Object(o.a)(t,j.drawerClose,!f),t))},children:[Object(d.jsx)("div",{className:j.toolbar,children:Object(d.jsx)(Ie.a,{onClick:C,children:"rtl"===p.direction?Object(d.jsx)(Me.a,{}):Object(d.jsx)(Ke.a,{})})}),Object(d.jsx)(We.a,{}),Object(d.jsxs)(Ae.a,{children:[Object(d.jsxs)(Ne.a,{button:!0,component:g.b,to:"/insulinunits",onClick:C,children:[Object(d.jsx)(De.a,{children:Object(d.jsx)(Se.a,{})}),Object(d.jsx)(Fe.a,{primary:c.insulinUnitsTitle})]},"Insulin"),Object(d.jsxs)(Ne.a,{button:!0,component:g.b,to:"/proportionatecarbs",onClick:C,children:[Object(d.jsx)(De.a,{children:Object(d.jsx)(ae.a,{})}),Object(d.jsx)(Fe.a,{primary:c.proportionateCarbsTitle})]},"Carbs")]}),Object(d.jsx)(We.a,{}),Object(d.jsxs)(Ae.a,{children:[Object(d.jsxs)(Ne.a,{button:!0,component:g.b,to:"/settings",onClick:C,children:[Object(d.jsx)(De.a,{children:Object(d.jsx)(le.a,{})}),Object(d.jsx)(Fe.a,{primary:"Settings"})]},"Settings"),Object(d.jsxs)(Ne.a,{button:!0,component:g.b,to:"/warning",onClick:C,children:[Object(d.jsx)(De.a,{children:Object(d.jsx)(ie.a,{})}),Object(d.jsx)(Fe.a,{primary:"Warning"})]},"Warning"),Object(d.jsxs)(Ne.a,{button:!0,disabled:!r.needsUpdating,onClick:function(){window.serviceWorkerRegistration.active.postMessage("update")},children:[Object(d.jsx)(De.a,{children:Object(d.jsx)(Ee.a,{})}),Object(d.jsx)(Fe.a,{primary:"Update"})]},"Update"),Object(d.jsxs)(Ne.a,{button:!0,component:g.b,to:"/about",onClick:C,children:[Object(d.jsx)(De.a,{children:Object(d.jsx)(Le.a,{})}),Object(d.jsx)(Fe.a,{primary:"About"})]},"About")]})]}),Object(d.jsxs)("main",{className:j.content,children:[Object(d.jsx)("div",{className:j.toolbar}),Object(d.jsxs)(x.d,{children:[Object(d.jsx)(x.b,{path:"/insulinunits",children:Object(d.jsx)(be,{})}),Object(d.jsx)(x.b,{path:"/proportionatecarbs",children:Object(d.jsx)(_e,{})}),Object(d.jsx)(x.b,{path:"/settings",children:Object(d.jsx)(Te,{})}),Object(d.jsx)(x.b,{path:"/warning",children:Object(d.jsx)(Ue,{})}),Object(d.jsx)(x.b,{path:"/about",children:Object(d.jsx)(Pe,{})}),Object(d.jsx)(x.a,{to:"/insulinunits"})]})]})]})]})},ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,203)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),i(e),s(e),a(e),r(e)}))},Ve=Object(p.a)({reducer:{view:M,settings:P,insulinUnits:q,proportionateCarbs:ge}});"serviceWorker"in navigator&&window.addEventListener("load",Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register("./serviceWorker.js");case 3:t=e.sent,console.log("Service worker registered! \ud83d\ude0e",t),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log("\ud83d\ude25 Service worker registration failed: ",e.t0),e.abrupt("return");case 11:navigator.serviceWorker.addEventListener("message",(function(e){switch(console.log("The service worker sent me a message: ".concat(e.data)),e.data){case"refresh":return void window.location.reload();default:return}})),navigator.serviceWorker.ready.then((function(e){window.serviceWorkerRegistration=e,e.active.postMessage("hi")}));case 13:case"end":return e.stop()}}),e,null,[[0,7]])})))),r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(B.a,{store:Ve,children:Object(d.jsx)(Ge,{})})}),document.getElementById("root")),ze()}},[[124,1,2]]]);
//# sourceMappingURL=main.c77de147.chunk.js.map